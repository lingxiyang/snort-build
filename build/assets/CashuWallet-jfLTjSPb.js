import{k as Qn,c as ti,l as An,n as ei}from"./index-pSqMUyT8.js";function Sn(t,e){return function(){return t.apply(e,arguments)}}var ri={};const{toString:ni}=Object.prototype,{getPrototypeOf:Nr}=Object,We=(t=>e=>{const r=ni.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Wt=t=>(t=t.toLowerCase(),e=>We(e)===t),je=t=>e=>typeof e===t,{isArray:we}=Array,Be=je("undefined");function ii(t){return t!==null&&!Be(t)&&t.constructor!==null&&!Be(t.constructor)&&qt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const _n=Wt("ArrayBuffer");function oi(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&_n(t.buffer),e}const si=je("string"),qt=je("function"),Rn=je("number"),Ve=t=>t!==null&&typeof t=="object",ai=t=>t===!0||t===!1,Pe=t=>{if(We(t)!=="object")return!1;const e=Nr(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},fi=Wt("Date"),ui=Wt("File"),hi=Wt("Blob"),li=Wt("FileList"),ci=t=>Ve(t)&&qt(t.pipe),di=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||qt(t.append)&&((e=We(t))==="formdata"||e==="object"&&qt(t.toString)&&t.toString()==="[object FormData]"))},pi=Wt("URLSearchParams"),mi=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Se(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let s,h;if(typeof t!="object"&&(t=[t]),we(t))for(s=0,h=t.length;s<h;s++)e.call(null,t[s],s,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),c=i.length;let d;for(s=0;s<c;s++)d=i[s],e.call(null,t[d],d,t)}}function In(t,e){e=e.toLowerCase();const r=Object.keys(t);let s=r.length,h;for(;s-- >0;)if(h=r[s],e===h.toLowerCase())return h;return null}const Tn=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:ri)(),Fn=t=>!Be(t)&&t!==Tn;function Ar(){const{caseless:t}=Fn(this)&&this||{},e={},r=(s,h)=>{const i=t&&In(e,h)||h;Pe(e[i])&&Pe(s)?e[i]=Ar(e[i],s):Pe(s)?e[i]=Ar({},s):we(s)?e[i]=s.slice():e[i]=s};for(let s=0,h=arguments.length;s<h;s++)arguments[s]&&Se(arguments[s],r);return e}const yi=(t,e,r,{allOwnKeys:s}={})=>(Se(e,(h,i)=>{r&&qt(h)?t[i]=Sn(h,r):t[i]=h},{allOwnKeys:s}),t),wi=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),gi=(t,e,r,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},vi=(t,e,r,s)=>{let h,i,c;const d={};if(e=e||{},t==null)return e;do{for(h=Object.getOwnPropertyNames(t),i=h.length;i-- >0;)c=h[i],(!s||s(c,t,e))&&!d[c]&&(e[c]=t[c],d[c]=!0);t=r!==!1&&Nr(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},xi=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const s=t.indexOf(e,r);return s!==-1&&s===r},Mi=t=>{if(!t)return null;if(we(t))return t;let e=t.length;if(!Rn(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},bi=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Nr(Uint8Array)),Ei=(t,e)=>{const s=(t&&t[Symbol.iterator]).call(t);let h;for(;(h=s.next())&&!h.done;){const i=h.value;e.call(t,i[0],i[1])}},Bi=(t,e)=>{let r;const s=[];for(;(r=t.exec(e))!==null;)s.push(r);return s},Ai=Wt("HTMLFormElement"),Si=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,h){return s.toUpperCase()+h}),Xr=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),_i=Wt("RegExp"),Un=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),s={};Se(r,(h,i)=>{let c;(c=e(h,i,t))!==!1&&(s[i]=c||h)}),Object.defineProperties(t,s)},Ri=t=>{Un(t,(e,r)=>{if(qt(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=t[r];if(qt(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Ii=(t,e)=>{const r={},s=h=>{h.forEach(i=>{r[i]=!0})};return we(t)?s(t):s(String(t).split(e)),r},Ti=()=>{},Fi=(t,e)=>(t=+t,Number.isFinite(t)?t:e),wr="abcdefghijklmnopqrstuvwxyz",Jr="0123456789",On={DIGIT:Jr,ALPHA:wr,ALPHA_DIGIT:wr+wr.toUpperCase()+Jr},Ui=(t=16,e=On.ALPHA_DIGIT)=>{let r="";const{length:s}=e;for(;t--;)r+=e[Math.random()*s|0];return r};function Oi(t){return!!(t&&qt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Ni=t=>{const e=new Array(10),r=(s,h)=>{if(Ve(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[h]=s;const i=we(s)?[]:{};return Se(s,(c,d)=>{const S=r(c,h+1);!Be(S)&&(i[d]=S)}),e[h]=void 0,i}}return s};return r(t,0)},ki=Wt("AsyncFunction"),Ci=t=>t&&(Ve(t)||qt(t))&&qt(t.then)&&qt(t.catch),T={isArray:we,isArrayBuffer:_n,isBuffer:ii,isFormData:di,isArrayBufferView:oi,isString:si,isNumber:Rn,isBoolean:ai,isObject:Ve,isPlainObject:Pe,isUndefined:Be,isDate:fi,isFile:ui,isBlob:hi,isRegExp:_i,isFunction:qt,isStream:ci,isURLSearchParams:pi,isTypedArray:bi,isFileList:li,forEach:Se,merge:Ar,extend:yi,trim:mi,stripBOM:wi,inherits:gi,toFlatObject:vi,kindOf:We,kindOfTest:Wt,endsWith:xi,toArray:Mi,forEachEntry:Ei,matchAll:Bi,isHTMLForm:Ai,hasOwnProperty:Xr,hasOwnProp:Xr,reduceDescriptors:Un,freezeMethods:Ri,toObjectSet:Ii,toCamelCase:Si,noop:Ti,toFiniteNumber:Fi,findKey:In,global:Tn,isContextDefined:Fn,ALPHABET:On,generateString:Ui,isSpecCompliantForm:Oi,toJSONObject:Ni,isAsyncFn:ki,isThenable:Ci};function j(t,e,r,s,h){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),s&&(this.request=s),h&&(this.response=h)}T.inherits(j,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Nn=j.prototype,kn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{kn[t]={value:t}});Object.defineProperties(j,kn);Object.defineProperty(Nn,"isAxiosError",{value:!0});j.from=(t,e,r,s,h,i)=>{const c=Object.create(Nn);return T.toFlatObject(t,c,function(S){return S!==Error.prototype},d=>d!=="isAxiosError"),j.call(c,t.message,e,r,s,h),c.cause=t,c.name=t.name,i&&Object.assign(c,i),c};const Pi=null;function Sr(t){return T.isPlainObject(t)||T.isArray(t)}function Cn(t){return T.endsWith(t,"[]")?t.slice(0,-2):t}function Yr(t,e,r){return t?t.concat(e).map(function(h,i){return h=Cn(h),!r&&i?"["+h+"]":h}).join(r?".":""):e}function Li(t){return T.isArray(t)&&!t.some(Sr)}const Di=T.toFlatObject(T,{},null,function(e){return/^is[A-Z]/.test(e)});function Ke(t,e,r){if(!T.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=T.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,W){return!T.isUndefined(W[O])});const s=r.metaTokens,h=r.visitor||B,i=r.dots,c=r.indexes,S=(r.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(e);if(!T.isFunction(h))throw new TypeError("visitor must be a function");function x(F){if(F===null)return"";if(T.isDate(F))return F.toISOString();if(!S&&T.isBlob(F))throw new j("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(F)||T.isTypedArray(F)?S&&typeof Blob=="function"?new Blob([F]):Buffer.from(F):F}function B(F,O,W){let z=F;if(F&&!W&&typeof F=="object"){if(T.endsWith(O,"{}"))O=s?O:O.slice(0,-2),F=JSON.stringify(F);else if(T.isArray(F)&&Li(F)||(T.isFileList(F)||T.endsWith(O,"[]"))&&(z=T.toArray(F)))return O=Cn(O),z.forEach(function(X,ft){!(T.isUndefined(X)||X===null)&&e.append(c===!0?Yr([O],ft,i):c===null?O:O+"[]",x(X))}),!1}return Sr(F)?!0:(e.append(Yr(W,O,i),x(F)),!1)}const _=[],U=Object.assign(Di,{defaultVisitor:B,convertValue:x,isVisitable:Sr});function D(F,O){if(!T.isUndefined(F)){if(_.indexOf(F)!==-1)throw Error("Circular reference detected in "+O.join("."));_.push(F),T.forEach(F,function(z,Z){(!(T.isUndefined(z)||z===null)&&h.call(e,z,T.isString(Z)?Z.trim():Z,O,U))===!0&&D(z,O?O.concat(Z):[Z])}),_.pop()}}if(!T.isObject(t))throw new TypeError("data must be an object");return D(t),e}function Qr(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function kr(t,e){this._pairs=[],t&&Ke(t,this,e)}const Pn=kr.prototype;Pn.append=function(e,r){this._pairs.push([e,r])};Pn.toString=function(e){const r=e?function(s){return e.call(this,s,Qr)}:Qr;return this._pairs.map(function(h){return r(h[0])+"="+r(h[1])},"").join("&")};function Hi(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ln(t,e,r){if(!e)return t;const s=r&&r.encode||Hi,h=r&&r.serialize;let i;if(h?i=h(e,r):i=T.isURLSearchParams(e)?e.toString():new kr(e,r).toString(s),i){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class qi{constructor(){this.handlers=[]}use(e,r,s){return this.handlers.push({fulfilled:e,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){T.forEach(this.handlers,function(s){s!==null&&e(s)})}}const tn=qi,Dn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$i=typeof URLSearchParams<"u"?URLSearchParams:kr,zi=typeof FormData<"u"?FormData:null,Zi=typeof Blob<"u"?Blob:null,Wi={isBrowser:!0,classes:{URLSearchParams:$i,FormData:zi,Blob:Zi},protocols:["http","https","file","blob","url","data"]},Hn=typeof window<"u"&&typeof document<"u",ji=(t=>Hn&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),Vi=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ki=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hn,hasStandardBrowserEnv:ji,hasStandardBrowserWebWorkerEnv:Vi},Symbol.toStringTag,{value:"Module"})),Zt={...Ki,...Wi};function Gi(t,e){return Ke(t,new Zt.classes.URLSearchParams,Object.assign({visitor:function(r,s,h,i){return Zt.isNode&&T.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function Xi(t){return T.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ji(t){const e={},r=Object.keys(t);let s;const h=r.length;let i;for(s=0;s<h;s++)i=r[s],e[i]=t[i];return e}function qn(t){function e(r,s,h,i){let c=r[i++];const d=Number.isFinite(+c),S=i>=r.length;return c=!c&&T.isArray(h)?h.length:c,S?(T.hasOwnProp(h,c)?h[c]=[h[c],s]:h[c]=s,!d):((!h[c]||!T.isObject(h[c]))&&(h[c]=[]),e(r,s,h[c],i)&&T.isArray(h[c])&&(h[c]=Ji(h[c])),!d)}if(T.isFormData(t)&&T.isFunction(t.entries)){const r={};return T.forEachEntry(t,(s,h)=>{e(Xi(s),h,r,0)}),r}return null}function Yi(t,e,r){if(T.isString(t))try{return(e||JSON.parse)(t),T.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(t)}const Cr={transitional:Dn,adapter:["xhr","http"],transformRequest:[function(e,r){const s=r.getContentType()||"",h=s.indexOf("application/json")>-1,i=T.isObject(e);if(i&&T.isHTMLForm(e)&&(e=new FormData(e)),T.isFormData(e))return h&&h?JSON.stringify(qn(e)):e;if(T.isArrayBuffer(e)||T.isBuffer(e)||T.isStream(e)||T.isFile(e)||T.isBlob(e))return e;if(T.isArrayBufferView(e))return e.buffer;if(T.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Gi(e,this.formSerializer).toString();if((d=T.isFileList(e))||s.indexOf("multipart/form-data")>-1){const S=this.env&&this.env.FormData;return Ke(d?{"files[]":e}:e,S&&new S,this.formSerializer)}}return i||h?(r.setContentType("application/json",!1),Yi(e)):e}],transformResponse:[function(e){const r=this.transitional||Cr.transitional,s=r&&r.forcedJSONParsing,h=this.responseType==="json";if(e&&T.isString(e)&&(s&&!this.responseType||h)){const c=!(r&&r.silentJSONParsing)&&h;try{return JSON.parse(e)}catch(d){if(c)throw d.name==="SyntaxError"?j.from(d,j.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zt.classes.FormData,Blob:Zt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],t=>{Cr.headers[t]={}});const Pr=Cr,Qi=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),to=t=>{const e={};let r,s,h;return t&&t.split(`
`).forEach(function(c){h=c.indexOf(":"),r=c.substring(0,h).trim().toLowerCase(),s=c.substring(h+1).trim(),!(!r||e[r]&&Qi[r])&&(r==="set-cookie"?e[r]?e[r].push(s):e[r]=[s]:e[r]=e[r]?e[r]+", "+s:s)}),e},en=Symbol("internals");function ve(t){return t&&String(t).trim().toLowerCase()}function Le(t){return t===!1||t==null?t:T.isArray(t)?t.map(Le):String(t)}function eo(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(t);)e[s[1]]=s[2];return e}const ro=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function gr(t,e,r,s,h){if(T.isFunction(s))return s.call(this,e,r);if(h&&(e=r),!!T.isString(e)){if(T.isString(s))return e.indexOf(s)!==-1;if(T.isRegExp(s))return s.test(e)}}function no(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,s)=>r.toUpperCase()+s)}function io(t,e){const r=T.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+r,{value:function(h,i,c){return this[s].call(this,e,h,i,c)},configurable:!0})})}class Ge{constructor(e){e&&this.set(e)}set(e,r,s){const h=this;function i(d,S,x){const B=ve(S);if(!B)throw new Error("header name must be a non-empty string");const _=T.findKey(h,B);(!_||h[_]===void 0||x===!0||x===void 0&&h[_]!==!1)&&(h[_||S]=Le(d))}const c=(d,S)=>T.forEach(d,(x,B)=>i(x,B,S));return T.isPlainObject(e)||e instanceof this.constructor?c(e,r):T.isString(e)&&(e=e.trim())&&!ro(e)?c(to(e),r):e!=null&&i(r,e,s),this}get(e,r){if(e=ve(e),e){const s=T.findKey(this,e);if(s){const h=this[s];if(!r)return h;if(r===!0)return eo(h);if(T.isFunction(r))return r.call(this,h,s);if(T.isRegExp(r))return r.exec(h);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=ve(e),e){const s=T.findKey(this,e);return!!(s&&this[s]!==void 0&&(!r||gr(this,this[s],s,r)))}return!1}delete(e,r){const s=this;let h=!1;function i(c){if(c=ve(c),c){const d=T.findKey(s,c);d&&(!r||gr(s,s[d],d,r))&&(delete s[d],h=!0)}}return T.isArray(e)?e.forEach(i):i(e),h}clear(e){const r=Object.keys(this);let s=r.length,h=!1;for(;s--;){const i=r[s];(!e||gr(this,this[i],i,e,!0))&&(delete this[i],h=!0)}return h}normalize(e){const r=this,s={};return T.forEach(this,(h,i)=>{const c=T.findKey(s,i);if(c){r[c]=Le(h),delete r[i];return}const d=e?no(i):String(i).trim();d!==i&&delete r[i],r[d]=Le(h),s[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return T.forEach(this,(s,h)=>{s!=null&&s!==!1&&(r[h]=e&&T.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const s=new this(e);return r.forEach(h=>s.set(h)),s}static accessor(e){const s=(this[en]=this[en]={accessors:{}}).accessors,h=this.prototype;function i(c){const d=ve(c);s[d]||(io(h,c),s[d]=!0)}return T.isArray(e)?e.forEach(i):i(e),this}}Ge.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(Ge.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[r]=s}}});T.freezeMethods(Ge);const Gt=Ge;function vr(t,e){const r=this||Pr,s=e||r,h=Gt.from(s.headers);let i=s.data;return T.forEach(t,function(d){i=d.call(r,i,h.normalize(),e?e.status:void 0)}),h.normalize(),i}function $n(t){return!!(t&&t.__CANCEL__)}function _e(t,e,r){j.call(this,t??"canceled",j.ERR_CANCELED,e,r),this.name="CanceledError"}T.inherits(_e,j,{__CANCEL__:!0});function oo(t,e,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?t(r):e(new j("Request failed with status code "+r.status,[j.ERR_BAD_REQUEST,j.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const so=Zt.hasStandardBrowserEnv?{write(t,e,r,s,h,i){const c=[t+"="+encodeURIComponent(e)];T.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),T.isString(s)&&c.push("path="+s),T.isString(h)&&c.push("domain="+h),i===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ao(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function fo(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function zn(t,e){return t&&!ao(e)?fo(t,e):e}const uo=Zt.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let s;function h(i){let c=i;return e&&(r.setAttribute("href",c),c=r.href),r.setAttribute("href",c),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return s=h(window.location.href),function(c){const d=T.isString(c)?h(c):c;return d.protocol===s.protocol&&d.host===s.host}}():function(){return function(){return!0}}();function ho(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function lo(t,e){t=t||10;const r=new Array(t),s=new Array(t);let h=0,i=0,c;return e=e!==void 0?e:1e3,function(S){const x=Date.now(),B=s[i];c||(c=x),r[h]=S,s[h]=x;let _=i,U=0;for(;_!==h;)U+=r[_++],_=_%t;if(h=(h+1)%t,h===i&&(i=(i+1)%t),x-c<e)return;const D=B&&x-B;return D?Math.round(U*1e3/D):void 0}}function rn(t,e){let r=0;const s=lo(50,250);return h=>{const i=h.loaded,c=h.lengthComputable?h.total:void 0,d=i-r,S=s(d),x=i<=c;r=i;const B={loaded:i,total:c,progress:c?i/c:void 0,bytes:d,rate:S||void 0,estimated:S&&c&&x?(c-i)/S:void 0,event:h};B[e?"download":"upload"]=!0,t(B)}}const co=typeof XMLHttpRequest<"u",po=co&&function(t){return new Promise(function(r,s){let h=t.data;const i=Gt.from(t.headers).normalize();let{responseType:c,withXSRFToken:d}=t,S;function x(){t.cancelToken&&t.cancelToken.unsubscribe(S),t.signal&&t.signal.removeEventListener("abort",S)}let B;if(T.isFormData(h)){if(Zt.hasStandardBrowserEnv||Zt.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((B=i.getContentType())!==!1){const[O,...W]=B?B.split(";").map(z=>z.trim()).filter(Boolean):[];i.setContentType([O||"multipart/form-data",...W].join("; "))}}let _=new XMLHttpRequest;if(t.auth){const O=t.auth.username||"",W=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(O+":"+W))}const U=zn(t.baseURL,t.url);_.open(t.method.toUpperCase(),Ln(U,t.params,t.paramsSerializer),!0),_.timeout=t.timeout;function D(){if(!_)return;const O=Gt.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),z={data:!c||c==="text"||c==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:O,config:t,request:_};oo(function(X){r(X),x()},function(X){s(X),x()},z),_=null}if("onloadend"in _?_.onloadend=D:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(D)},_.onabort=function(){_&&(s(new j("Request aborted",j.ECONNABORTED,t,_)),_=null)},_.onerror=function(){s(new j("Network Error",j.ERR_NETWORK,t,_)),_=null},_.ontimeout=function(){let W=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const z=t.transitional||Dn;t.timeoutErrorMessage&&(W=t.timeoutErrorMessage),s(new j(W,z.clarifyTimeoutError?j.ETIMEDOUT:j.ECONNABORTED,t,_)),_=null},Zt.hasStandardBrowserEnv&&(d&&T.isFunction(d)&&(d=d(t)),d||d!==!1&&uo(U))){const O=t.xsrfHeaderName&&t.xsrfCookieName&&so.read(t.xsrfCookieName);O&&i.set(t.xsrfHeaderName,O)}h===void 0&&i.setContentType(null),"setRequestHeader"in _&&T.forEach(i.toJSON(),function(W,z){_.setRequestHeader(z,W)}),T.isUndefined(t.withCredentials)||(_.withCredentials=!!t.withCredentials),c&&c!=="json"&&(_.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&_.addEventListener("progress",rn(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&_.upload&&_.upload.addEventListener("progress",rn(t.onUploadProgress)),(t.cancelToken||t.signal)&&(S=O=>{_&&(s(!O||O.type?new _e(null,t,_):O),_.abort(),_=null)},t.cancelToken&&t.cancelToken.subscribe(S),t.signal&&(t.signal.aborted?S():t.signal.addEventListener("abort",S)));const F=ho(U);if(F&&Zt.protocols.indexOf(F)===-1){s(new j("Unsupported protocol "+F+":",j.ERR_BAD_REQUEST,t));return}_.send(h||null)})},_r={http:Pi,xhr:po};T.forEach(_r,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const nn=t=>`- ${t}`,mo=t=>T.isFunction(t)||t===null||t===!1,Zn={getAdapter:t=>{t=T.isArray(t)?t:[t];const{length:e}=t;let r,s;const h={};for(let i=0;i<e;i++){r=t[i];let c;if(s=r,!mo(r)&&(s=_r[(c=String(r)).toLowerCase()],s===void 0))throw new j(`Unknown adapter '${c}'`);if(s)break;h[c||"#"+i]=s}if(!s){const i=Object.entries(h).map(([d,S])=>`adapter ${d} `+(S===!1?"is not supported by the environment":"is not available in the build"));let c=e?i.length>1?`since :
`+i.map(nn).join(`
`):" "+nn(i[0]):"as no adapter specified";throw new j("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:_r};function xr(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new _e(null,t)}function on(t){return xr(t),t.headers=Gt.from(t.headers),t.data=vr.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Zn.getAdapter(t.adapter||Pr.adapter)(t).then(function(s){return xr(t),s.data=vr.call(t,t.transformResponse,s),s.headers=Gt.from(s.headers),s},function(s){return $n(s)||(xr(t),s&&s.response&&(s.response.data=vr.call(t,t.transformResponse,s.response),s.response.headers=Gt.from(s.response.headers))),Promise.reject(s)})}const sn=t=>t instanceof Gt?t.toJSON():t;function me(t,e){e=e||{};const r={};function s(x,B,_){return T.isPlainObject(x)&&T.isPlainObject(B)?T.merge.call({caseless:_},x,B):T.isPlainObject(B)?T.merge({},B):T.isArray(B)?B.slice():B}function h(x,B,_){if(T.isUndefined(B)){if(!T.isUndefined(x))return s(void 0,x,_)}else return s(x,B,_)}function i(x,B){if(!T.isUndefined(B))return s(void 0,B)}function c(x,B){if(T.isUndefined(B)){if(!T.isUndefined(x))return s(void 0,x)}else return s(void 0,B)}function d(x,B,_){if(_ in e)return s(x,B);if(_ in t)return s(void 0,x)}const S={url:i,method:i,data:i,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(x,B)=>h(sn(x),sn(B),!0)};return T.forEach(Object.keys(Object.assign({},t,e)),function(B){const _=S[B]||h,U=_(t[B],e[B],B);T.isUndefined(U)&&_!==d||(r[B]=U)}),r}const Wn="1.6.2",Lr={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Lr[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const an={};Lr.transitional=function(e,r,s){function h(i,c){return"[Axios v"+Wn+"] Transitional option '"+i+"'"+c+(s?". "+s:"")}return(i,c,d)=>{if(e===!1)throw new j(h(c," has been removed"+(r?" in "+r:"")),j.ERR_DEPRECATED);return r&&!an[c]&&(an[c]=!0,console.warn(h(c," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,c,d):!0}};function yo(t,e,r){if(typeof t!="object")throw new j("options must be an object",j.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let h=s.length;for(;h-- >0;){const i=s[h],c=e[i];if(c){const d=t[i],S=d===void 0||c(d,i,t);if(S!==!0)throw new j("option "+i+" must be "+S,j.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new j("Unknown option "+i,j.ERR_BAD_OPTION)}}const Rr={assertOptions:yo,validators:Lr},Qt=Rr.validators;class He{constructor(e){this.defaults=e,this.interceptors={request:new tn,response:new tn}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=me(this.defaults,r);const{transitional:s,paramsSerializer:h,headers:i}=r;s!==void 0&&Rr.assertOptions(s,{silentJSONParsing:Qt.transitional(Qt.boolean),forcedJSONParsing:Qt.transitional(Qt.boolean),clarifyTimeoutError:Qt.transitional(Qt.boolean)},!1),h!=null&&(T.isFunction(h)?r.paramsSerializer={serialize:h}:Rr.assertOptions(h,{encode:Qt.function,serialize:Qt.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=i&&T.merge(i.common,i[r.method]);i&&T.forEach(["delete","get","head","post","put","patch","common"],F=>{delete i[F]}),r.headers=Gt.concat(c,i);const d=[];let S=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(r)===!1||(S=S&&O.synchronous,d.unshift(O.fulfilled,O.rejected))});const x=[];this.interceptors.response.forEach(function(O){x.push(O.fulfilled,O.rejected)});let B,_=0,U;if(!S){const F=[on.bind(this),void 0];for(F.unshift.apply(F,d),F.push.apply(F,x),U=F.length,B=Promise.resolve(r);_<U;)B=B.then(F[_++],F[_++]);return B}U=d.length;let D=r;for(_=0;_<U;){const F=d[_++],O=d[_++];try{D=F(D)}catch(W){O.call(this,W);break}}try{B=on.call(this,D)}catch(F){return Promise.reject(F)}for(_=0,U=x.length;_<U;)B=B.then(x[_++],x[_++]);return B}getUri(e){e=me(this.defaults,e);const r=zn(e.baseURL,e.url);return Ln(r,e.params,e.paramsSerializer)}}T.forEach(["delete","get","head","options"],function(e){He.prototype[e]=function(r,s){return this.request(me(s||{},{method:e,url:r,data:(s||{}).data}))}});T.forEach(["post","put","patch"],function(e){function r(s){return function(i,c,d){return this.request(me(d||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:c}))}}He.prototype[e]=r(),He.prototype[e+"Form"]=r(!0)});const De=He;class Dr{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(h=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](h);s._listeners=null}),this.promise.then=h=>{let i;const c=new Promise(d=>{s.subscribe(d),i=d}).then(h);return c.cancel=function(){s.unsubscribe(i)},c},e(function(i,c,d){s.reason||(s.reason=new _e(i,c,d),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new Dr(function(h){e=h}),cancel:e}}}const wo=Dr;function go(t){return function(r){return t.apply(null,r)}}function vo(t){return T.isObject(t)&&t.isAxiosError===!0}const Ir={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ir).forEach(([t,e])=>{Ir[e]=t});const xo=Ir;function jn(t){const e=new De(t),r=Sn(De.prototype.request,e);return T.extend(r,De.prototype,e,{allOwnKeys:!0}),T.extend(r,e,null,{allOwnKeys:!0}),r.create=function(h){return jn(me(t,h))},r}const Ot=jn(Pr);Ot.Axios=De;Ot.CanceledError=_e;Ot.CancelToken=wo;Ot.isCancel=$n;Ot.VERSION=Wn;Ot.toFormData=Ke;Ot.AxiosError=j;Ot.Cancel=Ot.CanceledError;Ot.all=function(e){return Promise.all(e)};Ot.spread=go;Ot.isAxiosError=vo;Ot.mergeConfig=me;Ot.AxiosHeaders=Gt;Ot.formToJSON=t=>qn(T.isHTMLForm(t)?new FormData(t):t);Ot.getAdapter=Zn.getAdapter;Ot.HttpStatusCode=xo;Ot.default=Ot;const Mo=Ot;var te=Mo.create(),ee=function(t,e,r,s){function h(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function d(B){try{x(s.next(B))}catch(_){c(_)}}function S(B){try{x(s.throw(B))}catch(_){c(_)}}function x(B){B.done?i(B.value):h(B.value).then(d,S)}x((s=s.apply(t,e||[])).next())})},re=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,h,i,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(x){return function(B){return S([x,B])}}function S(x){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,x[0]&&(r=0)),r;)try{if(s=1,h&&(i=x[0]&2?h.return:x[0]?h.throw||((i=h.return)&&i.call(h),0):h.next)&&!(i=i.call(h,x[1])).done)return i;switch(h=0,i&&(x=[x[0]&2,i.value]),x[0]){case 0:case 1:i=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,h=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!i||x[1]>i[0]&&x[1]<i[3])){r.label=x[1];break}if(x[0]===6&&r.label<i[1]){r.label=i[1],i=x;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(x);break}i[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(B){x=[6,B],h=0}finally{s=i=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},hs=function(){function t(e,r,s){s?this.mintUrl="".concat(e,":").concat(s):this.mintUrl=e,r&&(r.charAt(0)==="/"&&(r=r.substring(1,r.length-1)),this.mintUrl="".concat(this.mintUrl,"/").concat(r))}return t.prototype.requestMint=function(e){return ee(this,void 0,void 0,function(){var r;return re(this,function(s){switch(s.label){case 0:return[4,te.get("".concat(this.mintUrl,"/mint"),{params:{amount:e}})];case 1:return r=s.sent().data,[2,r]}})})},t.prototype.mint=function(e,r){return r===void 0&&(r=""),ee(this,void 0,void 0,function(){var s;return re(this,function(h){switch(h.label){case 0:return[4,te.post("".concat(this.mintUrl,"/mint"),e,{params:{payment_hash:r}})];case 1:return s=h.sent().data,[2,s]}})})},t.prototype.getKeys=function(){return ee(this,void 0,void 0,function(){var e;return re(this,function(r){switch(r.label){case 0:return[4,te.get("".concat(this.mintUrl,"/keys"))];case 1:return e=r.sent().data,[2,e]}})})},t.prototype.getKeySets=function(){return ee(this,void 0,void 0,function(){var e;return re(this,function(r){switch(r.label){case 0:return[4,te.get("".concat(this.mintUrl,"/keysets"))];case 1:return e=r.sent().data,[2,e]}})})},t.prototype.split=function(e){return ee(this,void 0,void 0,function(){var r;return re(this,function(s){switch(s.label){case 0:return[4,te.post("".concat(this.mintUrl,"/split"),e)];case 1:return r=s.sent().data,[2,r]}})})},t.prototype.melt=function(e){return ee(this,void 0,void 0,function(){var r;return re(this,function(s){switch(s.label){case 0:return[4,te.post("".concat(this.mintUrl,"/melt"),e)];case 1:return r=s.sent().data,[2,r]}})})},t.prototype.checkFees=function(e){return ee(this,void 0,void 0,function(){var r;return re(this,function(s){switch(s.label){case 0:return[4,te.post("".concat(this.mintUrl,"/checkfees"),e)];case 1:return r=s.sent().data,[2,r]}})})},t.prototype.check=function(e){return ee(this,void 0,void 0,function(){var r;return re(this,function(s){switch(s.label){case 0:return[4,te.post("".concat(this.mintUrl,"/check"),e)];case 1:return r=s.sent().data,[2,r]}})})},t}(),Re={},Xe={};Xe.byteLength=Bo;Xe.toByteArray=So;Xe.fromByteArray=Io;var zt=[],Dt=[],bo=typeof Uint8Array<"u"?Uint8Array:Array,Mr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var he=0,Eo=Mr.length;he<Eo;++he)zt[he]=Mr[he],Dt[Mr.charCodeAt(he)]=he;Dt["-".charCodeAt(0)]=62;Dt["_".charCodeAt(0)]=63;function Vn(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var s=r===e?0:4-r%4;return[r,s]}function Bo(t){var e=Vn(t),r=e[0],s=e[1];return(r+s)*3/4-s}function Ao(t,e,r){return(e+r)*3/4-r}function So(t){var e,r=Vn(t),s=r[0],h=r[1],i=new bo(Ao(t,s,h)),c=0,d=h>0?s-4:s,S;for(S=0;S<d;S+=4)e=Dt[t.charCodeAt(S)]<<18|Dt[t.charCodeAt(S+1)]<<12|Dt[t.charCodeAt(S+2)]<<6|Dt[t.charCodeAt(S+3)],i[c++]=e>>16&255,i[c++]=e>>8&255,i[c++]=e&255;return h===2&&(e=Dt[t.charCodeAt(S)]<<2|Dt[t.charCodeAt(S+1)]>>4,i[c++]=e&255),h===1&&(e=Dt[t.charCodeAt(S)]<<10|Dt[t.charCodeAt(S+1)]<<4|Dt[t.charCodeAt(S+2)]>>2,i[c++]=e>>8&255,i[c++]=e&255),i}function _o(t){return zt[t>>18&63]+zt[t>>12&63]+zt[t>>6&63]+zt[t&63]}function Ro(t,e,r){for(var s,h=[],i=e;i<r;i+=3)s=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),h.push(_o(s));return h.join("")}function Io(t){for(var e,r=t.length,s=r%3,h=[],i=16383,c=0,d=r-s;c<d;c+=i)h.push(Ro(t,c,c+i>d?d:c+i));return s===1?(e=t[r-1],h.push(zt[e>>2]+zt[e<<4&63]+"==")):s===2&&(e=(t[r-2]<<8)+t[r-1],h.push(zt[e>>10]+zt[e>>4&63]+zt[e<<2&63]+"=")),h.join("")}var Hr={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Hr.read=function(t,e,r,s,h){var i,c,d=h*8-s-1,S=(1<<d)-1,x=S>>1,B=-7,_=r?h-1:0,U=r?-1:1,D=t[e+_];for(_+=U,i=D&(1<<-B)-1,D>>=-B,B+=d;B>0;i=i*256+t[e+_],_+=U,B-=8);for(c=i&(1<<-B)-1,i>>=-B,B+=s;B>0;c=c*256+t[e+_],_+=U,B-=8);if(i===0)i=1-x;else{if(i===S)return c?NaN:(D?-1:1)*(1/0);c=c+Math.pow(2,s),i=i-x}return(D?-1:1)*c*Math.pow(2,i-s)};Hr.write=function(t,e,r,s,h,i){var c,d,S,x=i*8-h-1,B=(1<<x)-1,_=B>>1,U=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,D=s?0:i-1,F=s?1:-1,O=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(d=isNaN(e)?1:0,c=B):(c=Math.floor(Math.log(e)/Math.LN2),e*(S=Math.pow(2,-c))<1&&(c--,S*=2),c+_>=1?e+=U/S:e+=U*Math.pow(2,1-_),e*S>=2&&(c++,S/=2),c+_>=B?(d=0,c=B):c+_>=1?(d=(e*S-1)*Math.pow(2,h),c=c+_):(d=e*Math.pow(2,_-1)*Math.pow(2,h),c=0));h>=8;t[r+D]=d&255,D+=F,d/=256,h-=8);for(c=c<<h|d,x+=h;x>0;t[r+D]=c&255,D+=F,c/=256,x-=8);t[r+D-F]|=O*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Xe,r=Hr,s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=d,t.SlowBuffer=Z,t.INSPECT_MAX_BYTES=50;const h=2147483647;t.kMaxLength=h,d.TYPED_ARRAY_SUPPORT=i(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const l=new Uint8Array(1),o={foo:function(){return 42}};return Object.setPrototypeOf(o,Uint8Array.prototype),Object.setPrototypeOf(l,o),l.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function c(l){if(l>h)throw new RangeError('The value "'+l+'" is invalid for option "size"');const o=new Uint8Array(l);return Object.setPrototypeOf(o,d.prototype),o}function d(l,o,a){if(typeof l=="number"){if(typeof o=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(l)}return S(l,o,a)}d.poolSize=8192;function S(l,o,a){if(typeof l=="string")return U(l,o);if(ArrayBuffer.isView(l))return F(l);if(l==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);if(K(l,ArrayBuffer)||l&&K(l.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(K(l,SharedArrayBuffer)||l&&K(l.buffer,SharedArrayBuffer)))return O(l,o,a);if(typeof l=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const y=l.valueOf&&l.valueOf();if(y!=null&&y!==l)return d.from(y,o,a);const b=W(l);if(b)return b;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof l[Symbol.toPrimitive]=="function")return d.from(l[Symbol.toPrimitive]("string"),o,a);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l)}d.from=function(l,o,a){return S(l,o,a)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function x(l){if(typeof l!="number")throw new TypeError('"size" argument must be of type number');if(l<0)throw new RangeError('The value "'+l+'" is invalid for option "size"')}function B(l,o,a){return x(l),l<=0?c(l):o!==void 0?typeof a=="string"?c(l).fill(o,a):c(l).fill(o):c(l)}d.alloc=function(l,o,a){return B(l,o,a)};function _(l){return x(l),c(l<0?0:z(l)|0)}d.allocUnsafe=function(l){return _(l)},d.allocUnsafeSlow=function(l){return _(l)};function U(l,o){if((typeof o!="string"||o==="")&&(o="utf8"),!d.isEncoding(o))throw new TypeError("Unknown encoding: "+o);const a=X(l,o)|0;let y=c(a);const b=y.write(l,o);return b!==a&&(y=y.slice(0,b)),y}function D(l){const o=l.length<0?0:z(l.length)|0,a=c(o);for(let y=0;y<o;y+=1)a[y]=l[y]&255;return a}function F(l){if(K(l,Uint8Array)){const o=new Uint8Array(l);return O(o.buffer,o.byteOffset,o.byteLength)}return D(l)}function O(l,o,a){if(o<0||l.byteLength<o)throw new RangeError('"offset" is outside of buffer bounds');if(l.byteLength<o+(a||0))throw new RangeError('"length" is outside of buffer bounds');let y;return o===void 0&&a===void 0?y=new Uint8Array(l):a===void 0?y=new Uint8Array(l,o):y=new Uint8Array(l,o,a),Object.setPrototypeOf(y,d.prototype),y}function W(l){if(d.isBuffer(l)){const o=z(l.length)|0,a=c(o);return a.length===0||l.copy(a,0,0,o),a}if(l.length!==void 0)return typeof l.length!="number"||ue(l.length)?c(0):D(l);if(l.type==="Buffer"&&Array.isArray(l.data))return D(l.data)}function z(l){if(l>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return l|0}function Z(l){return+l!=l&&(l=0),d.alloc(+l)}d.isBuffer=function(o){return o!=null&&o._isBuffer===!0&&o!==d.prototype},d.compare=function(o,a){if(K(o,Uint8Array)&&(o=d.from(o,o.offset,o.byteLength)),K(a,Uint8Array)&&(a=d.from(a,a.offset,a.byteLength)),!d.isBuffer(o)||!d.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(o===a)return 0;let y=o.length,b=a.length;for(let R=0,I=Math.min(y,b);R<I;++R)if(o[R]!==a[R]){y=o[R],b=a[R];break}return y<b?-1:b<y?1:0},d.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(o,a){if(!Array.isArray(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return d.alloc(0);let y;if(a===void 0)for(a=0,y=0;y<o.length;++y)a+=o[y].length;const b=d.allocUnsafe(a);let R=0;for(y=0;y<o.length;++y){let I=o[y];if(K(I,Uint8Array))R+I.length>b.length?(d.isBuffer(I)||(I=d.from(I)),I.copy(b,R)):Uint8Array.prototype.set.call(b,I,R);else if(d.isBuffer(I))I.copy(b,R);else throw new TypeError('"list" argument must be an Array of Buffers');R+=I.length}return b};function X(l,o){if(d.isBuffer(l))return l.length;if(ArrayBuffer.isView(l)||K(l,ArrayBuffer))return l.byteLength;if(typeof l!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof l);const a=l.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&a===0)return 0;let b=!1;for(;;)switch(o){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":return fe(l).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a*2;case"hex":return a>>>1;case"base64":return ge(l).length;default:if(b)return y?-1:fe(l).length;o=(""+o).toLowerCase(),b=!0}}d.byteLength=X;function ft(l,o,a){let y=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((a===void 0||a>this.length)&&(a=this.length),a<=0)||(a>>>=0,o>>>=0,a<=o))return"";for(l||(l="utf8");;)switch(l){case"hex":return g(this,o,a);case"utf8":case"utf-8":return p(this,o,a);case"ascii":return E(this,o,a);case"latin1":case"binary":return A(this,o,a);case"base64":return u(this,o,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f(this,o,a);default:if(y)throw new TypeError("Unknown encoding: "+l);l=(l+"").toLowerCase(),y=!0}}d.prototype._isBuffer=!0;function yt(l,o,a){const y=l[o];l[o]=l[a],l[a]=y}d.prototype.swap16=function(){const o=this.length;if(o%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let a=0;a<o;a+=2)yt(this,a,a+1);return this},d.prototype.swap32=function(){const o=this.length;if(o%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let a=0;a<o;a+=4)yt(this,a,a+3),yt(this,a+1,a+2);return this},d.prototype.swap64=function(){const o=this.length;if(o%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let a=0;a<o;a+=8)yt(this,a,a+7),yt(this,a+1,a+6),yt(this,a+2,a+5),yt(this,a+3,a+4);return this},d.prototype.toString=function(){const o=this.length;return o===0?"":arguments.length===0?p(this,0,o):ft.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(o){if(!d.isBuffer(o))throw new TypeError("Argument must be a Buffer");return this===o?!0:d.compare(this,o)===0},d.prototype.inspect=function(){let o="";const a=t.INSPECT_MAX_BYTES;return o=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(o+=" ... "),"<Buffer "+o+">"},s&&(d.prototype[s]=d.prototype.inspect),d.prototype.compare=function(o,a,y,b,R){if(K(o,Uint8Array)&&(o=d.from(o,o.offset,o.byteLength)),!d.isBuffer(o))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof o);if(a===void 0&&(a=0),y===void 0&&(y=o?o.length:0),b===void 0&&(b=0),R===void 0&&(R=this.length),a<0||y>o.length||b<0||R>this.length)throw new RangeError("out of range index");if(b>=R&&a>=y)return 0;if(b>=R)return-1;if(a>=y)return 1;if(a>>>=0,y>>>=0,b>>>=0,R>>>=0,this===o)return 0;let I=R-b,P=y-a;const st=Math.min(I,P),H=this.slice(b,R),$=o.slice(a,y);for(let Y=0;Y<st;++Y)if(H[Y]!==$[Y]){I=H[Y],P=$[Y];break}return I<P?-1:P<I?1:0};function Xt(l,o,a,y,b){if(l.length===0)return-1;if(typeof a=="string"?(y=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,ue(a)&&(a=b?0:l.length-1),a<0&&(a=l.length+a),a>=l.length){if(b)return-1;a=l.length-1}else if(a<0)if(b)a=0;else return-1;if(typeof o=="string"&&(o=d.from(o,y)),d.isBuffer(o))return o.length===0?-1:Jt(l,o,a,y,b);if(typeof o=="number")return o=o&255,typeof Uint8Array.prototype.indexOf=="function"?b?Uint8Array.prototype.indexOf.call(l,o,a):Uint8Array.prototype.lastIndexOf.call(l,o,a):Jt(l,[o],a,y,b);throw new TypeError("val must be string, number or Buffer")}function Jt(l,o,a,y,b){let R=1,I=l.length,P=o.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(l.length<2||o.length<2)return-1;R=2,I/=2,P/=2,a/=2}function st($,Y){return R===1?$[Y]:$.readUInt16BE(Y*R)}let H;if(b){let $=-1;for(H=a;H<I;H++)if(st(l,H)===st(o,$===-1?0:H-$)){if($===-1&&($=H),H-$+1===P)return $*R}else $!==-1&&(H-=H-$),$=-1}else for(a+P>I&&(a=I-P),H=a;H>=0;H--){let $=!0;for(let Y=0;Y<P;Y++)if(st(l,H+Y)!==st(o,Y)){$=!1;break}if($)return H}return-1}d.prototype.includes=function(o,a,y){return this.indexOf(o,a,y)!==-1},d.prototype.indexOf=function(o,a,y){return Xt(this,o,a,y,!0)},d.prototype.lastIndexOf=function(o,a,y){return Xt(this,o,a,y,!1)};function kt(l,o,a,y){a=Number(a)||0;const b=l.length-a;y?(y=Number(y),y>b&&(y=b)):y=b;const R=o.length;y>R/2&&(y=R/2);let I;for(I=0;I<y;++I){const P=parseInt(o.substr(I*2,2),16);if(ue(P))return I;l[a+I]=P}return I}function rt(l,o,a,y){return ot(fe(o,l.length-a),l,a,y)}function $t(l,o,a,y){return ot(dt(o),l,a,y)}function M(l,o,a,y){return ot(ge(o),l,a,y)}function n(l,o,a,y){return ot(pt(o,l.length-a),l,a,y)}d.prototype.write=function(o,a,y,b){if(a===void 0)b="utf8",y=this.length,a=0;else if(y===void 0&&typeof a=="string")b=a,y=this.length,a=0;else if(isFinite(a))a=a>>>0,isFinite(y)?(y=y>>>0,b===void 0&&(b="utf8")):(b=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const R=this.length-a;if((y===void 0||y>R)&&(y=R),o.length>0&&(y<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");b||(b="utf8");let I=!1;for(;;)switch(b){case"hex":return kt(this,o,a,y);case"utf8":case"utf-8":return rt(this,o,a,y);case"ascii":case"latin1":case"binary":return $t(this,o,a,y);case"base64":return M(this,o,a,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n(this,o,a,y);default:if(I)throw new TypeError("Unknown encoding: "+b);b=(""+b).toLowerCase(),I=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function u(l,o,a){return o===0&&a===l.length?e.fromByteArray(l):e.fromByteArray(l.slice(o,a))}function p(l,o,a){a=Math.min(l.length,a);const y=[];let b=o;for(;b<a;){const R=l[b];let I=null,P=R>239?4:R>223?3:R>191?2:1;if(b+P<=a){let st,H,$,Y;switch(P){case 1:R<128&&(I=R);break;case 2:st=l[b+1],(st&192)===128&&(Y=(R&31)<<6|st&63,Y>127&&(I=Y));break;case 3:st=l[b+1],H=l[b+2],(st&192)===128&&(H&192)===128&&(Y=(R&15)<<12|(st&63)<<6|H&63,Y>2047&&(Y<55296||Y>57343)&&(I=Y));break;case 4:st=l[b+1],H=l[b+2],$=l[b+3],(st&192)===128&&(H&192)===128&&($&192)===128&&(Y=(R&15)<<18|(st&63)<<12|(H&63)<<6|$&63,Y>65535&&Y<1114112&&(I=Y))}}I===null?(I=65533,P=1):I>65535&&(I-=65536,y.push(I>>>10&1023|55296),I=56320|I&1023),y.push(I),b+=P}return v(y)}const m=4096;function v(l){const o=l.length;if(o<=m)return String.fromCharCode.apply(String,l);let a="",y=0;for(;y<o;)a+=String.fromCharCode.apply(String,l.slice(y,y+=m));return a}function E(l,o,a){let y="";a=Math.min(l.length,a);for(let b=o;b<a;++b)y+=String.fromCharCode(l[b]&127);return y}function A(l,o,a){let y="";a=Math.min(l.length,a);for(let b=o;b<a;++b)y+=String.fromCharCode(l[b]);return y}function g(l,o,a){const y=l.length;(!o||o<0)&&(o=0),(!a||a<0||a>y)&&(a=y);let b="";for(let R=o;R<a;++R)b+=mt[l[R]];return b}function f(l,o,a){const y=l.slice(o,a);let b="";for(let R=0;R<y.length-1;R+=2)b+=String.fromCharCode(y[R]+y[R+1]*256);return b}d.prototype.slice=function(o,a){const y=this.length;o=~~o,a=a===void 0?y:~~a,o<0?(o+=y,o<0&&(o=0)):o>y&&(o=y),a<0?(a+=y,a<0&&(a=0)):a>y&&(a=y),a<o&&(a=o);const b=this.subarray(o,a);return Object.setPrototypeOf(b,d.prototype),b};function w(l,o,a){if(l%1!==0||l<0)throw new RangeError("offset is not uint");if(l+o>a)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(o,a,y){o=o>>>0,a=a>>>0,y||w(o,a,this.length);let b=this[o],R=1,I=0;for(;++I<a&&(R*=256);)b+=this[o+I]*R;return b},d.prototype.readUintBE=d.prototype.readUIntBE=function(o,a,y){o=o>>>0,a=a>>>0,y||w(o,a,this.length);let b=this[o+--a],R=1;for(;a>0&&(R*=256);)b+=this[o+--a]*R;return b},d.prototype.readUint8=d.prototype.readUInt8=function(o,a){return o=o>>>0,a||w(o,1,this.length),this[o]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(o,a){return o=o>>>0,a||w(o,2,this.length),this[o]|this[o+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(o,a){return o=o>>>0,a||w(o,2,this.length),this[o]<<8|this[o+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(o,a){return o=o>>>0,a||w(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+this[o+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(o,a){return o=o>>>0,a||w(o,4,this.length),this[o]*16777216+(this[o+1]<<16|this[o+2]<<8|this[o+3])},d.prototype.readBigUInt64LE=et(function(o){o=o>>>0,it(o,"offset");const a=this[o],y=this[o+7];(a===void 0||y===void 0)&&Yt(o,this.length-8);const b=a+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24,R=this[++o]+this[++o]*2**8+this[++o]*2**16+y*2**24;return BigInt(b)+(BigInt(R)<<BigInt(32))}),d.prototype.readBigUInt64BE=et(function(o){o=o>>>0,it(o,"offset");const a=this[o],y=this[o+7];(a===void 0||y===void 0)&&Yt(o,this.length-8);const b=a*2**24+this[++o]*2**16+this[++o]*2**8+this[++o],R=this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+y;return(BigInt(b)<<BigInt(32))+BigInt(R)}),d.prototype.readIntLE=function(o,a,y){o=o>>>0,a=a>>>0,y||w(o,a,this.length);let b=this[o],R=1,I=0;for(;++I<a&&(R*=256);)b+=this[o+I]*R;return R*=128,b>=R&&(b-=Math.pow(2,8*a)),b},d.prototype.readIntBE=function(o,a,y){o=o>>>0,a=a>>>0,y||w(o,a,this.length);let b=a,R=1,I=this[o+--b];for(;b>0&&(R*=256);)I+=this[o+--b]*R;return R*=128,I>=R&&(I-=Math.pow(2,8*a)),I},d.prototype.readInt8=function(o,a){return o=o>>>0,a||w(o,1,this.length),this[o]&128?(255-this[o]+1)*-1:this[o]},d.prototype.readInt16LE=function(o,a){o=o>>>0,a||w(o,2,this.length);const y=this[o]|this[o+1]<<8;return y&32768?y|4294901760:y},d.prototype.readInt16BE=function(o,a){o=o>>>0,a||w(o,2,this.length);const y=this[o+1]|this[o]<<8;return y&32768?y|4294901760:y},d.prototype.readInt32LE=function(o,a){return o=o>>>0,a||w(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24},d.prototype.readInt32BE=function(o,a){return o=o>>>0,a||w(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]},d.prototype.readBigInt64LE=et(function(o){o=o>>>0,it(o,"offset");const a=this[o],y=this[o+7];(a===void 0||y===void 0)&&Yt(o,this.length-8);const b=this[o+4]+this[o+5]*2**8+this[o+6]*2**16+(y<<24);return(BigInt(b)<<BigInt(32))+BigInt(a+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24)}),d.prototype.readBigInt64BE=et(function(o){o=o>>>0,it(o,"offset");const a=this[o],y=this[o+7];(a===void 0||y===void 0)&&Yt(o,this.length-8);const b=(a<<24)+this[++o]*2**16+this[++o]*2**8+this[++o];return(BigInt(b)<<BigInt(32))+BigInt(this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+y)}),d.prototype.readFloatLE=function(o,a){return o=o>>>0,a||w(o,4,this.length),r.read(this,o,!0,23,4)},d.prototype.readFloatBE=function(o,a){return o=o>>>0,a||w(o,4,this.length),r.read(this,o,!1,23,4)},d.prototype.readDoubleLE=function(o,a){return o=o>>>0,a||w(o,8,this.length),r.read(this,o,!0,52,8)},d.prototype.readDoubleBE=function(o,a){return o=o>>>0,a||w(o,8,this.length),r.read(this,o,!1,52,8)};function N(l,o,a,y,b,R){if(!d.isBuffer(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>b||o<R)throw new RangeError('"value" argument is out of bounds');if(a+y>l.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(o,a,y,b){if(o=+o,a=a>>>0,y=y>>>0,!b){const P=Math.pow(2,8*y)-1;N(this,o,a,y,P,0)}let R=1,I=0;for(this[a]=o&255;++I<y&&(R*=256);)this[a+I]=o/R&255;return a+y},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(o,a,y,b){if(o=+o,a=a>>>0,y=y>>>0,!b){const P=Math.pow(2,8*y)-1;N(this,o,a,y,P,0)}let R=y-1,I=1;for(this[a+R]=o&255;--R>=0&&(I*=256);)this[a+R]=o/I&255;return a+y},d.prototype.writeUint8=d.prototype.writeUInt8=function(o,a,y){return o=+o,a=a>>>0,y||N(this,o,a,1,255,0),this[a]=o&255,a+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(o,a,y){return o=+o,a=a>>>0,y||N(this,o,a,2,65535,0),this[a]=o&255,this[a+1]=o>>>8,a+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(o,a,y){return o=+o,a=a>>>0,y||N(this,o,a,2,65535,0),this[a]=o>>>8,this[a+1]=o&255,a+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(o,a,y){return o=+o,a=a>>>0,y||N(this,o,a,4,4294967295,0),this[a+3]=o>>>24,this[a+2]=o>>>16,this[a+1]=o>>>8,this[a]=o&255,a+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(o,a,y){return o=+o,a=a>>>0,y||N(this,o,a,4,4294967295,0),this[a]=o>>>24,this[a+1]=o>>>16,this[a+2]=o>>>8,this[a+3]=o&255,a+4};function C(l,o,a,y,b){ut(o,y,b,l,a,7);let R=Number(o&BigInt(4294967295));l[a++]=R,R=R>>8,l[a++]=R,R=R>>8,l[a++]=R,R=R>>8,l[a++]=R;let I=Number(o>>BigInt(32)&BigInt(4294967295));return l[a++]=I,I=I>>8,l[a++]=I,I=I>>8,l[a++]=I,I=I>>8,l[a++]=I,a}function L(l,o,a,y,b){ut(o,y,b,l,a,7);let R=Number(o&BigInt(4294967295));l[a+7]=R,R=R>>8,l[a+6]=R,R=R>>8,l[a+5]=R,R=R>>8,l[a+4]=R;let I=Number(o>>BigInt(32)&BigInt(4294967295));return l[a+3]=I,I=I>>8,l[a+2]=I,I=I>>8,l[a+1]=I,I=I>>8,l[a]=I,a+8}d.prototype.writeBigUInt64LE=et(function(o,a=0){return C(this,o,a,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=et(function(o,a=0){return L(this,o,a,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(o,a,y,b){if(o=+o,a=a>>>0,!b){const st=Math.pow(2,8*y-1);N(this,o,a,y,st-1,-st)}let R=0,I=1,P=0;for(this[a]=o&255;++R<y&&(I*=256);)o<0&&P===0&&this[a+R-1]!==0&&(P=1),this[a+R]=(o/I>>0)-P&255;return a+y},d.prototype.writeIntBE=function(o,a,y,b){if(o=+o,a=a>>>0,!b){const st=Math.pow(2,8*y-1);N(this,o,a,y,st-1,-st)}let R=y-1,I=1,P=0;for(this[a+R]=o&255;--R>=0&&(I*=256);)o<0&&P===0&&this[a+R+1]!==0&&(P=1),this[a+R]=(o/I>>0)-P&255;return a+y},d.prototype.writeInt8=function(o,a,y){return o=+o,a=a>>>0,y||N(this,o,a,1,127,-128),o<0&&(o=255+o+1),this[a]=o&255,a+1},d.prototype.writeInt16LE=function(o,a,y){return o=+o,a=a>>>0,y||N(this,o,a,2,32767,-32768),this[a]=o&255,this[a+1]=o>>>8,a+2},d.prototype.writeInt16BE=function(o,a,y){return o=+o,a=a>>>0,y||N(this,o,a,2,32767,-32768),this[a]=o>>>8,this[a+1]=o&255,a+2},d.prototype.writeInt32LE=function(o,a,y){return o=+o,a=a>>>0,y||N(this,o,a,4,2147483647,-2147483648),this[a]=o&255,this[a+1]=o>>>8,this[a+2]=o>>>16,this[a+3]=o>>>24,a+4},d.prototype.writeInt32BE=function(o,a,y){return o=+o,a=a>>>0,y||N(this,o,a,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),this[a]=o>>>24,this[a+1]=o>>>16,this[a+2]=o>>>8,this[a+3]=o&255,a+4},d.prototype.writeBigInt64LE=et(function(o,a=0){return C(this,o,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=et(function(o,a=0){return L(this,o,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function q(l,o,a,y,b,R){if(a+y>l.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function V(l,o,a,y,b){return o=+o,a=a>>>0,b||q(l,o,a,4),r.write(l,o,a,y,23,4),a+4}d.prototype.writeFloatLE=function(o,a,y){return V(this,o,a,!0,y)},d.prototype.writeFloatBE=function(o,a,y){return V(this,o,a,!1,y)};function tt(l,o,a,y,b){return o=+o,a=a>>>0,b||q(l,o,a,8),r.write(l,o,a,y,52,8),a+8}d.prototype.writeDoubleLE=function(o,a,y){return tt(this,o,a,!0,y)},d.prototype.writeDoubleBE=function(o,a,y){return tt(this,o,a,!1,y)},d.prototype.copy=function(o,a,y,b){if(!d.isBuffer(o))throw new TypeError("argument should be a Buffer");if(y||(y=0),!b&&b!==0&&(b=this.length),a>=o.length&&(a=o.length),a||(a=0),b>0&&b<y&&(b=y),b===y||o.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("sourceEnd out of bounds");b>this.length&&(b=this.length),o.length-a<b-y&&(b=o.length-a+y);const R=b-y;return this===o&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(a,y,b):Uint8Array.prototype.set.call(o,this.subarray(y,b),a),R},d.prototype.fill=function(o,a,y,b){if(typeof o=="string"){if(typeof a=="string"?(b=a,a=0,y=this.length):typeof y=="string"&&(b=y,y=this.length),b!==void 0&&typeof b!="string")throw new TypeError("encoding must be a string");if(typeof b=="string"&&!d.isEncoding(b))throw new TypeError("Unknown encoding: "+b);if(o.length===1){const I=o.charCodeAt(0);(b==="utf8"&&I<128||b==="latin1")&&(o=I)}}else typeof o=="number"?o=o&255:typeof o=="boolean"&&(o=Number(o));if(a<0||this.length<a||this.length<y)throw new RangeError("Out of range index");if(y<=a)return this;a=a>>>0,y=y===void 0?this.length:y>>>0,o||(o=0);let R;if(typeof o=="number")for(R=a;R<y;++R)this[R]=o;else{const I=d.isBuffer(o)?o:d.from(o,b),P=I.length;if(P===0)throw new TypeError('The value "'+o+'" is invalid for argument "value"');for(R=0;R<y-a;++R)this[R+a]=I[R%P]}return this};const Ct={};function J(l,o,a){Ct[l]=class extends a{constructor(){super(),Object.defineProperty(this,"message",{value:o.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${l}]`,this.stack,delete this.name}get code(){return l}set code(b){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:b,writable:!0})}toString(){return`${this.name} [${l}]: ${this.message}`}}}J("ERR_BUFFER_OUT_OF_BOUNDS",function(l){return l?`${l} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),J("ERR_INVALID_ARG_TYPE",function(l,o){return`The "${l}" argument must be of type number. Received type ${typeof o}`},TypeError),J("ERR_OUT_OF_RANGE",function(l,o,a){let y=`The value of "${l}" is out of range.`,b=a;return Number.isInteger(a)&&Math.abs(a)>2**32?b=nt(String(a)):typeof a=="bigint"&&(b=String(a),(a>BigInt(2)**BigInt(32)||a<-(BigInt(2)**BigInt(32)))&&(b=nt(b)),b+="n"),y+=` It must be ${o}. Received ${b}`,y},RangeError);function nt(l){let o="",a=l.length;const y=l[0]==="-"?1:0;for(;a>=y+4;a-=3)o=`_${l.slice(a-3,a)}${o}`;return`${l.slice(0,a)}${o}`}function Ie(l,o,a){it(o,"offset"),(l[o]===void 0||l[o+a]===void 0)&&Yt(o,l.length-(a+1))}function ut(l,o,a,y,b,R){if(l>a||l<o){const I=typeof o=="bigint"?"n":"";let P;throw R>3?o===0||o===BigInt(0)?P=`>= 0${I} and < 2${I} ** ${(R+1)*8}${I}`:P=`>= -(2${I} ** ${(R+1)*8-1}${I}) and < 2 ** ${(R+1)*8-1}${I}`:P=`>= ${o}${I} and <= ${a}${I}`,new Ct.ERR_OUT_OF_RANGE("value",P,l)}Ie(y,b,R)}function it(l,o){if(typeof l!="number")throw new Ct.ERR_INVALID_ARG_TYPE(o,"number",l)}function Yt(l,o,a){throw Math.floor(l)!==l?(it(l,a),new Ct.ERR_OUT_OF_RANGE(a||"offset","an integer",l)):o<0?new Ct.ERR_BUFFER_OUT_OF_BOUNDS:new Ct.ERR_OUT_OF_RANGE(a||"offset",`>= ${a?1:0} and <= ${o}`,l)}const lt=/[^+/0-9A-Za-z-_]/g;function ct(l){if(l=l.split("=")[0],l=l.trim().replace(lt,""),l.length<2)return"";for(;l.length%4!==0;)l=l+"=";return l}function fe(l,o){o=o||1/0;let a;const y=l.length;let b=null;const R=[];for(let I=0;I<y;++I){if(a=l.charCodeAt(I),a>55295&&a<57344){if(!b){if(a>56319){(o-=3)>-1&&R.push(239,191,189);continue}else if(I+1===y){(o-=3)>-1&&R.push(239,191,189);continue}b=a;continue}if(a<56320){(o-=3)>-1&&R.push(239,191,189),b=a;continue}a=(b-55296<<10|a-56320)+65536}else b&&(o-=3)>-1&&R.push(239,191,189);if(b=null,a<128){if((o-=1)<0)break;R.push(a)}else if(a<2048){if((o-=2)<0)break;R.push(a>>6|192,a&63|128)}else if(a<65536){if((o-=3)<0)break;R.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((o-=4)<0)break;R.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return R}function dt(l){const o=[];for(let a=0;a<l.length;++a)o.push(l.charCodeAt(a)&255);return o}function pt(l,o){let a,y,b;const R=[];for(let I=0;I<l.length&&!((o-=2)<0);++I)a=l.charCodeAt(I),y=a>>8,b=a%256,R.push(b),R.push(y);return R}function ge(l){return e.toByteArray(ct(l))}function ot(l,o,a,y){let b;for(b=0;b<y&&!(b+a>=o.length||b>=l.length);++b)o[b+a]=l[b];return b}function K(l,o){return l instanceof o||l!=null&&l.constructor!=null&&l.constructor.name!=null&&l.constructor.name===o.name}function ue(l){return l!==l}const mt=function(){const l="0123456789abcdef",o=new Array(256);for(let a=0;a<16;++a){const y=a*16;for(let b=0;b<16;++b)o[y+b]=l[a]+l[b]}return o}();function et(l){return typeof BigInt>"u"?Te:l}function Te(){throw new Error("BigInt not supported")}})(Re);var qr={exports:{}};qr.exports;(function(t){(function(e,r){function s(M,n){if(!M)throw new Error(n||"Assertion failed")}function h(M,n){M.super_=n;var u=function(){};u.prototype=n.prototype,M.prototype=new u,M.prototype.constructor=M}function i(M,n,u){if(i.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((n==="le"||n==="be")&&(u=n,n=10),this._init(M||0,n||10,u||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=Qn.Buffer}catch{}i.isBN=function(n){return n instanceof i?!0:n!==null&&typeof n=="object"&&n.constructor.wordSize===i.wordSize&&Array.isArray(n.words)},i.max=function(n,u){return n.cmp(u)>0?n:u},i.min=function(n,u){return n.cmp(u)<0?n:u},i.prototype._init=function(n,u,p){if(typeof n=="number")return this._initNumber(n,u,p);if(typeof n=="object")return this._initArray(n,u,p);u==="hex"&&(u=16),s(u===(u|0)&&u>=2&&u<=36),n=n.toString().replace(/\s+/g,"");var m=0;n[0]==="-"&&(m++,this.negative=1),m<n.length&&(u===16?this._parseHex(n,m,p):(this._parseBase(n,u,m),p==="le"&&this._initArray(this.toArray(),u,p)))},i.prototype._initNumber=function(n,u,p){n<0&&(this.negative=1,n=-n),n<67108864?(this.words=[n&67108863],this.length=1):n<4503599627370496?(this.words=[n&67108863,n/67108864&67108863],this.length=2):(s(n<9007199254740992),this.words=[n&67108863,n/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),u,p)},i.prototype._initArray=function(n,u,p){if(s(typeof n.length=="number"),n.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(n.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v,E,A=0;if(p==="be")for(m=n.length-1,v=0;m>=0;m-=3)E=n[m]|n[m-1]<<8|n[m-2]<<16,this.words[v]|=E<<A&67108863,this.words[v+1]=E>>>26-A&67108863,A+=24,A>=26&&(A-=26,v++);else if(p==="le")for(m=0,v=0;m<n.length;m+=3)E=n[m]|n[m+1]<<8|n[m+2]<<16,this.words[v]|=E<<A&67108863,this.words[v+1]=E>>>26-A&67108863,A+=24,A>=26&&(A-=26,v++);return this.strip()};function d(M,n){var u=M.charCodeAt(n);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function S(M,n,u){var p=d(M,u);return u-1>=n&&(p|=d(M,u-1)<<4),p}i.prototype._parseHex=function(n,u,p){this.length=Math.ceil((n.length-u)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v=0,E=0,A;if(p==="be")for(m=n.length-1;m>=u;m-=2)A=S(n,u,m)<<v,this.words[E]|=A&67108863,v>=18?(v-=18,E+=1,this.words[E]|=A>>>26):v+=8;else{var g=n.length-u;for(m=g%2===0?u+1:u;m<n.length;m+=2)A=S(n,u,m)<<v,this.words[E]|=A&67108863,v>=18?(v-=18,E+=1,this.words[E]|=A>>>26):v+=8}this.strip()};function x(M,n,u,p){for(var m=0,v=Math.min(M.length,u),E=n;E<v;E++){var A=M.charCodeAt(E)-48;m*=p,A>=49?m+=A-49+10:A>=17?m+=A-17+10:m+=A}return m}i.prototype._parseBase=function(n,u,p){this.words=[0],this.length=1;for(var m=0,v=1;v<=67108863;v*=u)m++;m--,v=v/u|0;for(var E=n.length-p,A=E%m,g=Math.min(E,E-A)+p,f=0,w=p;w<g;w+=m)f=x(n,w,w+m,u),this.imuln(v),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(A!==0){var N=1;for(f=x(n,w,n.length,u),w=0;w<A;w++)N*=u;this.imuln(N),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},i.prototype.copy=function(n){n.words=new Array(this.length);for(var u=0;u<this.length;u++)n.words[u]=this.words[u];n.length=this.length,n.negative=this.negative,n.red=this.red},i.prototype.clone=function(){var n=new i(null);return this.copy(n),n},i.prototype._expand=function(n){for(;this.length<n;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var B=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],U=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(n,u){n=n||10,u=u|0||1;var p;if(n===16||n==="hex"){p="";for(var m=0,v=0,E=0;E<this.length;E++){var A=this.words[E],g=((A<<m|v)&16777215).toString(16);v=A>>>24-m&16777215,v!==0||E!==this.length-1?p=B[6-g.length]+g+p:p=g+p,m+=2,m>=26&&(m-=26,E--)}for(v!==0&&(p=v.toString(16)+p);p.length%u!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(n===(n|0)&&n>=2&&n<=36){var f=_[n],w=U[n];p="";var N=this.clone();for(N.negative=0;!N.isZero();){var C=N.modn(w).toString(n);N=N.idivn(w),N.isZero()?p=C+p:p=B[f-C.length]+C+p}for(this.isZero()&&(p="0"+p);p.length%u!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}s(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var n=this.words[0];return this.length===2?n+=this.words[1]*67108864:this.length===3&&this.words[2]===1?n+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-n:n},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(n,u){return s(typeof c<"u"),this.toArrayLike(c,n,u)},i.prototype.toArray=function(n,u){return this.toArrayLike(Array,n,u)},i.prototype.toArrayLike=function(n,u,p){var m=this.byteLength(),v=p||Math.max(1,m);s(m<=v,"byte array longer than desired length"),s(v>0,"Requested array length <= 0"),this.strip();var E=u==="le",A=new n(v),g,f,w=this.clone();if(E){for(f=0;!w.isZero();f++)g=w.andln(255),w.iushrn(8),A[f]=g;for(;f<v;f++)A[f]=0}else{for(f=0;f<v-m;f++)A[f]=0;for(f=0;!w.isZero();f++)g=w.andln(255),w.iushrn(8),A[v-f-1]=g}return A},Math.clz32?i.prototype._countBits=function(n){return 32-Math.clz32(n)}:i.prototype._countBits=function(n){var u=n,p=0;return u>=4096&&(p+=13,u>>>=13),u>=64&&(p+=7,u>>>=7),u>=8&&(p+=4,u>>>=4),u>=2&&(p+=2,u>>>=2),p+u},i.prototype._zeroBits=function(n){if(n===0)return 26;var u=n,p=0;return u&8191||(p+=13,u>>>=13),u&127||(p+=7,u>>>=7),u&15||(p+=4,u>>>=4),u&3||(p+=2,u>>>=2),u&1||p++,p},i.prototype.bitLength=function(){var n=this.words[this.length-1],u=this._countBits(n);return(this.length-1)*26+u};function D(M){for(var n=new Array(M.bitLength()),u=0;u<n.length;u++){var p=u/26|0,m=u%26;n[u]=(M.words[p]&1<<m)>>>m}return n}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var n=0,u=0;u<this.length;u++){var p=this._zeroBits(this.words[u]);if(n+=p,p!==26)break}return n},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(n){return this.negative!==0?this.abs().inotn(n).iaddn(1):this.clone()},i.prototype.fromTwos=function(n){return this.testn(n-1)?this.notn(n).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(n){for(;this.length<n.length;)this.words[this.length++]=0;for(var u=0;u<n.length;u++)this.words[u]=this.words[u]|n.words[u];return this.strip()},i.prototype.ior=function(n){return s((this.negative|n.negative)===0),this.iuor(n)},i.prototype.or=function(n){return this.length>n.length?this.clone().ior(n):n.clone().ior(this)},i.prototype.uor=function(n){return this.length>n.length?this.clone().iuor(n):n.clone().iuor(this)},i.prototype.iuand=function(n){var u;this.length>n.length?u=n:u=this;for(var p=0;p<u.length;p++)this.words[p]=this.words[p]&n.words[p];return this.length=u.length,this.strip()},i.prototype.iand=function(n){return s((this.negative|n.negative)===0),this.iuand(n)},i.prototype.and=function(n){return this.length>n.length?this.clone().iand(n):n.clone().iand(this)},i.prototype.uand=function(n){return this.length>n.length?this.clone().iuand(n):n.clone().iuand(this)},i.prototype.iuxor=function(n){var u,p;this.length>n.length?(u=this,p=n):(u=n,p=this);for(var m=0;m<p.length;m++)this.words[m]=u.words[m]^p.words[m];if(this!==u)for(;m<u.length;m++)this.words[m]=u.words[m];return this.length=u.length,this.strip()},i.prototype.ixor=function(n){return s((this.negative|n.negative)===0),this.iuxor(n)},i.prototype.xor=function(n){return this.length>n.length?this.clone().ixor(n):n.clone().ixor(this)},i.prototype.uxor=function(n){return this.length>n.length?this.clone().iuxor(n):n.clone().iuxor(this)},i.prototype.inotn=function(n){s(typeof n=="number"&&n>=0);var u=Math.ceil(n/26)|0,p=n%26;this._expand(u),p>0&&u--;for(var m=0;m<u;m++)this.words[m]=~this.words[m]&67108863;return p>0&&(this.words[m]=~this.words[m]&67108863>>26-p),this.strip()},i.prototype.notn=function(n){return this.clone().inotn(n)},i.prototype.setn=function(n,u){s(typeof n=="number"&&n>=0);var p=n/26|0,m=n%26;return this._expand(p+1),u?this.words[p]=this.words[p]|1<<m:this.words[p]=this.words[p]&~(1<<m),this.strip()},i.prototype.iadd=function(n){var u;if(this.negative!==0&&n.negative===0)return this.negative=0,u=this.isub(n),this.negative^=1,this._normSign();if(this.negative===0&&n.negative!==0)return n.negative=0,u=this.isub(n),n.negative=1,u._normSign();var p,m;this.length>n.length?(p=this,m=n):(p=n,m=this);for(var v=0,E=0;E<m.length;E++)u=(p.words[E]|0)+(m.words[E]|0)+v,this.words[E]=u&67108863,v=u>>>26;for(;v!==0&&E<p.length;E++)u=(p.words[E]|0)+v,this.words[E]=u&67108863,v=u>>>26;if(this.length=p.length,v!==0)this.words[this.length]=v,this.length++;else if(p!==this)for(;E<p.length;E++)this.words[E]=p.words[E];return this},i.prototype.add=function(n){var u;return n.negative!==0&&this.negative===0?(n.negative=0,u=this.sub(n),n.negative^=1,u):n.negative===0&&this.negative!==0?(this.negative=0,u=n.sub(this),this.negative=1,u):this.length>n.length?this.clone().iadd(n):n.clone().iadd(this)},i.prototype.isub=function(n){if(n.negative!==0){n.negative=0;var u=this.iadd(n);return n.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(n),this.negative=1,this._normSign();var p=this.cmp(n);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,v;p>0?(m=this,v=n):(m=n,v=this);for(var E=0,A=0;A<v.length;A++)u=(m.words[A]|0)-(v.words[A]|0)+E,E=u>>26,this.words[A]=u&67108863;for(;E!==0&&A<m.length;A++)u=(m.words[A]|0)+E,E=u>>26,this.words[A]=u&67108863;if(E===0&&A<m.length&&m!==this)for(;A<m.length;A++)this.words[A]=m.words[A];return this.length=Math.max(this.length,A),m!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(n){return this.clone().isub(n)};function F(M,n,u){u.negative=n.negative^M.negative;var p=M.length+n.length|0;u.length=p,p=p-1|0;var m=M.words[0]|0,v=n.words[0]|0,E=m*v,A=E&67108863,g=E/67108864|0;u.words[0]=A;for(var f=1;f<p;f++){for(var w=g>>>26,N=g&67108863,C=Math.min(f,n.length-1),L=Math.max(0,f-M.length+1);L<=C;L++){var q=f-L|0;m=M.words[q]|0,v=n.words[L]|0,E=m*v+N,w+=E/67108864|0,N=E&67108863}u.words[f]=N|0,g=w|0}return g!==0?u.words[f]=g|0:u.length--,u.strip()}var O=function(n,u,p){var m=n.words,v=u.words,E=p.words,A=0,g,f,w,N=m[0]|0,C=N&8191,L=N>>>13,q=m[1]|0,V=q&8191,tt=q>>>13,Ct=m[2]|0,J=Ct&8191,nt=Ct>>>13,Ie=m[3]|0,ut=Ie&8191,it=Ie>>>13,Yt=m[4]|0,lt=Yt&8191,ct=Yt>>>13,fe=m[5]|0,dt=fe&8191,pt=fe>>>13,ge=m[6]|0,ot=ge&8191,K=ge>>>13,ue=m[7]|0,mt=ue&8191,et=ue>>>13,Te=m[8]|0,l=Te&8191,o=Te>>>13,a=m[9]|0,y=a&8191,b=a>>>13,R=v[0]|0,I=R&8191,P=R>>>13,st=v[1]|0,H=st&8191,$=st>>>13,Y=v[2]|0,wt=Y&8191,gt=Y>>>13,zr=v[3]|0,vt=zr&8191,xt=zr>>>13,Zr=v[4]|0,Mt=Zr&8191,bt=Zr>>>13,Wr=v[5]|0,Et=Wr&8191,Bt=Wr>>>13,jr=v[6]|0,At=jr&8191,St=jr>>>13,Vr=v[7]|0,_t=Vr&8191,Rt=Vr>>>13,Kr=v[8]|0,It=Kr&8191,Tt=Kr>>>13,Gr=v[9]|0,Ft=Gr&8191,Ut=Gr>>>13;p.negative=n.negative^u.negative,p.length=19,g=Math.imul(C,I),f=Math.imul(C,P),f=f+Math.imul(L,I)|0,w=Math.imul(L,P);var Ye=(A+g|0)+((f&8191)<<13)|0;A=(w+(f>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,g=Math.imul(V,I),f=Math.imul(V,P),f=f+Math.imul(tt,I)|0,w=Math.imul(tt,P),g=g+Math.imul(C,H)|0,f=f+Math.imul(C,$)|0,f=f+Math.imul(L,H)|0,w=w+Math.imul(L,$)|0;var Qe=(A+g|0)+((f&8191)<<13)|0;A=(w+(f>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,g=Math.imul(J,I),f=Math.imul(J,P),f=f+Math.imul(nt,I)|0,w=Math.imul(nt,P),g=g+Math.imul(V,H)|0,f=f+Math.imul(V,$)|0,f=f+Math.imul(tt,H)|0,w=w+Math.imul(tt,$)|0,g=g+Math.imul(C,wt)|0,f=f+Math.imul(C,gt)|0,f=f+Math.imul(L,wt)|0,w=w+Math.imul(L,gt)|0;var tr=(A+g|0)+((f&8191)<<13)|0;A=(w+(f>>>13)|0)+(tr>>>26)|0,tr&=67108863,g=Math.imul(ut,I),f=Math.imul(ut,P),f=f+Math.imul(it,I)|0,w=Math.imul(it,P),g=g+Math.imul(J,H)|0,f=f+Math.imul(J,$)|0,f=f+Math.imul(nt,H)|0,w=w+Math.imul(nt,$)|0,g=g+Math.imul(V,wt)|0,f=f+Math.imul(V,gt)|0,f=f+Math.imul(tt,wt)|0,w=w+Math.imul(tt,gt)|0,g=g+Math.imul(C,vt)|0,f=f+Math.imul(C,xt)|0,f=f+Math.imul(L,vt)|0,w=w+Math.imul(L,xt)|0;var er=(A+g|0)+((f&8191)<<13)|0;A=(w+(f>>>13)|0)+(er>>>26)|0,er&=67108863,g=Math.imul(lt,I),f=Math.imul(lt,P),f=f+Math.imul(ct,I)|0,w=Math.imul(ct,P),g=g+Math.imul(ut,H)|0,f=f+Math.imul(ut,$)|0,f=f+Math.imul(it,H)|0,w=w+Math.imul(it,$)|0,g=g+Math.imul(J,wt)|0,f=f+Math.imul(J,gt)|0,f=f+Math.imul(nt,wt)|0,w=w+Math.imul(nt,gt)|0,g=g+Math.imul(V,vt)|0,f=f+Math.imul(V,xt)|0,f=f+Math.imul(tt,vt)|0,w=w+Math.imul(tt,xt)|0,g=g+Math.imul(C,Mt)|0,f=f+Math.imul(C,bt)|0,f=f+Math.imul(L,Mt)|0,w=w+Math.imul(L,bt)|0;var rr=(A+g|0)+((f&8191)<<13)|0;A=(w+(f>>>13)|0)+(rr>>>26)|0,rr&=67108863,g=Math.imul(dt,I),f=Math.imul(dt,P),f=f+Math.imul(pt,I)|0,w=Math.imul(pt,P),g=g+Math.imul(lt,H)|0,f=f+Math.imul(lt,$)|0,f=f+Math.imul(ct,H)|0,w=w+Math.imul(ct,$)|0,g=g+Math.imul(ut,wt)|0,f=f+Math.imul(ut,gt)|0,f=f+Math.imul(it,wt)|0,w=w+Math.imul(it,gt)|0,g=g+Math.imul(J,vt)|0,f=f+Math.imul(J,xt)|0,f=f+Math.imul(nt,vt)|0,w=w+Math.imul(nt,xt)|0,g=g+Math.imul(V,Mt)|0,f=f+Math.imul(V,bt)|0,f=f+Math.imul(tt,Mt)|0,w=w+Math.imul(tt,bt)|0,g=g+Math.imul(C,Et)|0,f=f+Math.imul(C,Bt)|0,f=f+Math.imul(L,Et)|0,w=w+Math.imul(L,Bt)|0;var nr=(A+g|0)+((f&8191)<<13)|0;A=(w+(f>>>13)|0)+(nr>>>26)|0,nr&=67108863,g=Math.imul(ot,I),f=Math.imul(ot,P),f=f+Math.imul(K,I)|0,w=Math.imul(K,P),g=g+Math.imul(dt,H)|0,f=f+Math.imul(dt,$)|0,f=f+Math.imul(pt,H)|0,w=w+Math.imul(pt,$)|0,g=g+Math.imul(lt,wt)|0,f=f+Math.imul(lt,gt)|0,f=f+Math.imul(ct,wt)|0,w=w+Math.imul(ct,gt)|0,g=g+Math.imul(ut,vt)|0,f=f+Math.imul(ut,xt)|0,f=f+Math.imul(it,vt)|0,w=w+Math.imul(it,xt)|0,g=g+Math.imul(J,Mt)|0,f=f+Math.imul(J,bt)|0,f=f+Math.imul(nt,Mt)|0,w=w+Math.imul(nt,bt)|0,g=g+Math.imul(V,Et)|0,f=f+Math.imul(V,Bt)|0,f=f+Math.imul(tt,Et)|0,w=w+Math.imul(tt,Bt)|0,g=g+Math.imul(C,At)|0,f=f+Math.imul(C,St)|0,f=f+Math.imul(L,At)|0,w=w+Math.imul(L,St)|0;var ir=(A+g|0)+((f&8191)<<13)|0;A=(w+(f>>>13)|0)+(ir>>>26)|0,ir&=67108863,g=Math.imul(mt,I),f=Math.imul(mt,P),f=f+Math.imul(et,I)|0,w=Math.imul(et,P),g=g+Math.imul(ot,H)|0,f=f+Math.imul(ot,$)|0,f=f+Math.imul(K,H)|0,w=w+Math.imul(K,$)|0,g=g+Math.imul(dt,wt)|0,f=f+Math.imul(dt,gt)|0,f=f+Math.imul(pt,wt)|0,w=w+Math.imul(pt,gt)|0,g=g+Math.imul(lt,vt)|0,f=f+Math.imul(lt,xt)|0,f=f+Math.imul(ct,vt)|0,w=w+Math.imul(ct,xt)|0,g=g+Math.imul(ut,Mt)|0,f=f+Math.imul(ut,bt)|0,f=f+Math.imul(it,Mt)|0,w=w+Math.imul(it,bt)|0,g=g+Math.imul(J,Et)|0,f=f+Math.imul(J,Bt)|0,f=f+Math.imul(nt,Et)|0,w=w+Math.imul(nt,Bt)|0,g=g+Math.imul(V,At)|0,f=f+Math.imul(V,St)|0,f=f+Math.imul(tt,At)|0,w=w+Math.imul(tt,St)|0,g=g+Math.imul(C,_t)|0,f=f+Math.imul(C,Rt)|0,f=f+Math.imul(L,_t)|0,w=w+Math.imul(L,Rt)|0;var or=(A+g|0)+((f&8191)<<13)|0;A=(w+(f>>>13)|0)+(or>>>26)|0,or&=67108863,g=Math.imul(l,I),f=Math.imul(l,P),f=f+Math.imul(o,I)|0,w=Math.imul(o,P),g=g+Math.imul(mt,H)|0,f=f+Math.imul(mt,$)|0,f=f+Math.imul(et,H)|0,w=w+Math.imul(et,$)|0,g=g+Math.imul(ot,wt)|0,f=f+Math.imul(ot,gt)|0,f=f+Math.imul(K,wt)|0,w=w+Math.imul(K,gt)|0,g=g+Math.imul(dt,vt)|0,f=f+Math.imul(dt,xt)|0,f=f+Math.imul(pt,vt)|0,w=w+Math.imul(pt,xt)|0,g=g+Math.imul(lt,Mt)|0,f=f+Math.imul(lt,bt)|0,f=f+Math.imul(ct,Mt)|0,w=w+Math.imul(ct,bt)|0,g=g+Math.imul(ut,Et)|0,f=f+Math.imul(ut,Bt)|0,f=f+Math.imul(it,Et)|0,w=w+Math.imul(it,Bt)|0,g=g+Math.imul(J,At)|0,f=f+Math.imul(J,St)|0,f=f+Math.imul(nt,At)|0,w=w+Math.imul(nt,St)|0,g=g+Math.imul(V,_t)|0,f=f+Math.imul(V,Rt)|0,f=f+Math.imul(tt,_t)|0,w=w+Math.imul(tt,Rt)|0,g=g+Math.imul(C,It)|0,f=f+Math.imul(C,Tt)|0,f=f+Math.imul(L,It)|0,w=w+Math.imul(L,Tt)|0;var sr=(A+g|0)+((f&8191)<<13)|0;A=(w+(f>>>13)|0)+(sr>>>26)|0,sr&=67108863,g=Math.imul(y,I),f=Math.imul(y,P),f=f+Math.imul(b,I)|0,w=Math.imul(b,P),g=g+Math.imul(l,H)|0,f=f+Math.imul(l,$)|0,f=f+Math.imul(o,H)|0,w=w+Math.imul(o,$)|0,g=g+Math.imul(mt,wt)|0,f=f+Math.imul(mt,gt)|0,f=f+Math.imul(et,wt)|0,w=w+Math.imul(et,gt)|0,g=g+Math.imul(ot,vt)|0,f=f+Math.imul(ot,xt)|0,f=f+Math.imul(K,vt)|0,w=w+Math.imul(K,xt)|0,g=g+Math.imul(dt,Mt)|0,f=f+Math.imul(dt,bt)|0,f=f+Math.imul(pt,Mt)|0,w=w+Math.imul(pt,bt)|0,g=g+Math.imul(lt,Et)|0,f=f+Math.imul(lt,Bt)|0,f=f+Math.imul(ct,Et)|0,w=w+Math.imul(ct,Bt)|0,g=g+Math.imul(ut,At)|0,f=f+Math.imul(ut,St)|0,f=f+Math.imul(it,At)|0,w=w+Math.imul(it,St)|0,g=g+Math.imul(J,_t)|0,f=f+Math.imul(J,Rt)|0,f=f+Math.imul(nt,_t)|0,w=w+Math.imul(nt,Rt)|0,g=g+Math.imul(V,It)|0,f=f+Math.imul(V,Tt)|0,f=f+Math.imul(tt,It)|0,w=w+Math.imul(tt,Tt)|0,g=g+Math.imul(C,Ft)|0,f=f+Math.imul(C,Ut)|0,f=f+Math.imul(L,Ft)|0,w=w+Math.imul(L,Ut)|0;var ar=(A+g|0)+((f&8191)<<13)|0;A=(w+(f>>>13)|0)+(ar>>>26)|0,ar&=67108863,g=Math.imul(y,H),f=Math.imul(y,$),f=f+Math.imul(b,H)|0,w=Math.imul(b,$),g=g+Math.imul(l,wt)|0,f=f+Math.imul(l,gt)|0,f=f+Math.imul(o,wt)|0,w=w+Math.imul(o,gt)|0,g=g+Math.imul(mt,vt)|0,f=f+Math.imul(mt,xt)|0,f=f+Math.imul(et,vt)|0,w=w+Math.imul(et,xt)|0,g=g+Math.imul(ot,Mt)|0,f=f+Math.imul(ot,bt)|0,f=f+Math.imul(K,Mt)|0,w=w+Math.imul(K,bt)|0,g=g+Math.imul(dt,Et)|0,f=f+Math.imul(dt,Bt)|0,f=f+Math.imul(pt,Et)|0,w=w+Math.imul(pt,Bt)|0,g=g+Math.imul(lt,At)|0,f=f+Math.imul(lt,St)|0,f=f+Math.imul(ct,At)|0,w=w+Math.imul(ct,St)|0,g=g+Math.imul(ut,_t)|0,f=f+Math.imul(ut,Rt)|0,f=f+Math.imul(it,_t)|0,w=w+Math.imul(it,Rt)|0,g=g+Math.imul(J,It)|0,f=f+Math.imul(J,Tt)|0,f=f+Math.imul(nt,It)|0,w=w+Math.imul(nt,Tt)|0,g=g+Math.imul(V,Ft)|0,f=f+Math.imul(V,Ut)|0,f=f+Math.imul(tt,Ft)|0,w=w+Math.imul(tt,Ut)|0;var fr=(A+g|0)+((f&8191)<<13)|0;A=(w+(f>>>13)|0)+(fr>>>26)|0,fr&=67108863,g=Math.imul(y,wt),f=Math.imul(y,gt),f=f+Math.imul(b,wt)|0,w=Math.imul(b,gt),g=g+Math.imul(l,vt)|0,f=f+Math.imul(l,xt)|0,f=f+Math.imul(o,vt)|0,w=w+Math.imul(o,xt)|0,g=g+Math.imul(mt,Mt)|0,f=f+Math.imul(mt,bt)|0,f=f+Math.imul(et,Mt)|0,w=w+Math.imul(et,bt)|0,g=g+Math.imul(ot,Et)|0,f=f+Math.imul(ot,Bt)|0,f=f+Math.imul(K,Et)|0,w=w+Math.imul(K,Bt)|0,g=g+Math.imul(dt,At)|0,f=f+Math.imul(dt,St)|0,f=f+Math.imul(pt,At)|0,w=w+Math.imul(pt,St)|0,g=g+Math.imul(lt,_t)|0,f=f+Math.imul(lt,Rt)|0,f=f+Math.imul(ct,_t)|0,w=w+Math.imul(ct,Rt)|0,g=g+Math.imul(ut,It)|0,f=f+Math.imul(ut,Tt)|0,f=f+Math.imul(it,It)|0,w=w+Math.imul(it,Tt)|0,g=g+Math.imul(J,Ft)|0,f=f+Math.imul(J,Ut)|0,f=f+Math.imul(nt,Ft)|0,w=w+Math.imul(nt,Ut)|0;var ur=(A+g|0)+((f&8191)<<13)|0;A=(w+(f>>>13)|0)+(ur>>>26)|0,ur&=67108863,g=Math.imul(y,vt),f=Math.imul(y,xt),f=f+Math.imul(b,vt)|0,w=Math.imul(b,xt),g=g+Math.imul(l,Mt)|0,f=f+Math.imul(l,bt)|0,f=f+Math.imul(o,Mt)|0,w=w+Math.imul(o,bt)|0,g=g+Math.imul(mt,Et)|0,f=f+Math.imul(mt,Bt)|0,f=f+Math.imul(et,Et)|0,w=w+Math.imul(et,Bt)|0,g=g+Math.imul(ot,At)|0,f=f+Math.imul(ot,St)|0,f=f+Math.imul(K,At)|0,w=w+Math.imul(K,St)|0,g=g+Math.imul(dt,_t)|0,f=f+Math.imul(dt,Rt)|0,f=f+Math.imul(pt,_t)|0,w=w+Math.imul(pt,Rt)|0,g=g+Math.imul(lt,It)|0,f=f+Math.imul(lt,Tt)|0,f=f+Math.imul(ct,It)|0,w=w+Math.imul(ct,Tt)|0,g=g+Math.imul(ut,Ft)|0,f=f+Math.imul(ut,Ut)|0,f=f+Math.imul(it,Ft)|0,w=w+Math.imul(it,Ut)|0;var hr=(A+g|0)+((f&8191)<<13)|0;A=(w+(f>>>13)|0)+(hr>>>26)|0,hr&=67108863,g=Math.imul(y,Mt),f=Math.imul(y,bt),f=f+Math.imul(b,Mt)|0,w=Math.imul(b,bt),g=g+Math.imul(l,Et)|0,f=f+Math.imul(l,Bt)|0,f=f+Math.imul(o,Et)|0,w=w+Math.imul(o,Bt)|0,g=g+Math.imul(mt,At)|0,f=f+Math.imul(mt,St)|0,f=f+Math.imul(et,At)|0,w=w+Math.imul(et,St)|0,g=g+Math.imul(ot,_t)|0,f=f+Math.imul(ot,Rt)|0,f=f+Math.imul(K,_t)|0,w=w+Math.imul(K,Rt)|0,g=g+Math.imul(dt,It)|0,f=f+Math.imul(dt,Tt)|0,f=f+Math.imul(pt,It)|0,w=w+Math.imul(pt,Tt)|0,g=g+Math.imul(lt,Ft)|0,f=f+Math.imul(lt,Ut)|0,f=f+Math.imul(ct,Ft)|0,w=w+Math.imul(ct,Ut)|0;var lr=(A+g|0)+((f&8191)<<13)|0;A=(w+(f>>>13)|0)+(lr>>>26)|0,lr&=67108863,g=Math.imul(y,Et),f=Math.imul(y,Bt),f=f+Math.imul(b,Et)|0,w=Math.imul(b,Bt),g=g+Math.imul(l,At)|0,f=f+Math.imul(l,St)|0,f=f+Math.imul(o,At)|0,w=w+Math.imul(o,St)|0,g=g+Math.imul(mt,_t)|0,f=f+Math.imul(mt,Rt)|0,f=f+Math.imul(et,_t)|0,w=w+Math.imul(et,Rt)|0,g=g+Math.imul(ot,It)|0,f=f+Math.imul(ot,Tt)|0,f=f+Math.imul(K,It)|0,w=w+Math.imul(K,Tt)|0,g=g+Math.imul(dt,Ft)|0,f=f+Math.imul(dt,Ut)|0,f=f+Math.imul(pt,Ft)|0,w=w+Math.imul(pt,Ut)|0;var cr=(A+g|0)+((f&8191)<<13)|0;A=(w+(f>>>13)|0)+(cr>>>26)|0,cr&=67108863,g=Math.imul(y,At),f=Math.imul(y,St),f=f+Math.imul(b,At)|0,w=Math.imul(b,St),g=g+Math.imul(l,_t)|0,f=f+Math.imul(l,Rt)|0,f=f+Math.imul(o,_t)|0,w=w+Math.imul(o,Rt)|0,g=g+Math.imul(mt,It)|0,f=f+Math.imul(mt,Tt)|0,f=f+Math.imul(et,It)|0,w=w+Math.imul(et,Tt)|0,g=g+Math.imul(ot,Ft)|0,f=f+Math.imul(ot,Ut)|0,f=f+Math.imul(K,Ft)|0,w=w+Math.imul(K,Ut)|0;var dr=(A+g|0)+((f&8191)<<13)|0;A=(w+(f>>>13)|0)+(dr>>>26)|0,dr&=67108863,g=Math.imul(y,_t),f=Math.imul(y,Rt),f=f+Math.imul(b,_t)|0,w=Math.imul(b,Rt),g=g+Math.imul(l,It)|0,f=f+Math.imul(l,Tt)|0,f=f+Math.imul(o,It)|0,w=w+Math.imul(o,Tt)|0,g=g+Math.imul(mt,Ft)|0,f=f+Math.imul(mt,Ut)|0,f=f+Math.imul(et,Ft)|0,w=w+Math.imul(et,Ut)|0;var pr=(A+g|0)+((f&8191)<<13)|0;A=(w+(f>>>13)|0)+(pr>>>26)|0,pr&=67108863,g=Math.imul(y,It),f=Math.imul(y,Tt),f=f+Math.imul(b,It)|0,w=Math.imul(b,Tt),g=g+Math.imul(l,Ft)|0,f=f+Math.imul(l,Ut)|0,f=f+Math.imul(o,Ft)|0,w=w+Math.imul(o,Ut)|0;var mr=(A+g|0)+((f&8191)<<13)|0;A=(w+(f>>>13)|0)+(mr>>>26)|0,mr&=67108863,g=Math.imul(y,Ft),f=Math.imul(y,Ut),f=f+Math.imul(b,Ft)|0,w=Math.imul(b,Ut);var yr=(A+g|0)+((f&8191)<<13)|0;return A=(w+(f>>>13)|0)+(yr>>>26)|0,yr&=67108863,E[0]=Ye,E[1]=Qe,E[2]=tr,E[3]=er,E[4]=rr,E[5]=nr,E[6]=ir,E[7]=or,E[8]=sr,E[9]=ar,E[10]=fr,E[11]=ur,E[12]=hr,E[13]=lr,E[14]=cr,E[15]=dr,E[16]=pr,E[17]=mr,E[18]=yr,A!==0&&(E[19]=A,p.length++),p};Math.imul||(O=F);function W(M,n,u){u.negative=n.negative^M.negative,u.length=M.length+n.length;for(var p=0,m=0,v=0;v<u.length-1;v++){var E=m;m=0;for(var A=p&67108863,g=Math.min(v,n.length-1),f=Math.max(0,v-M.length+1);f<=g;f++){var w=v-f,N=M.words[w]|0,C=n.words[f]|0,L=N*C,q=L&67108863;E=E+(L/67108864|0)|0,q=q+A|0,A=q&67108863,E=E+(q>>>26)|0,m+=E>>>26,E&=67108863}u.words[v]=A,p=E,E=m}return p!==0?u.words[v]=p:u.length--,u.strip()}function z(M,n,u){var p=new Z;return p.mulp(M,n,u)}i.prototype.mulTo=function(n,u){var p,m=this.length+n.length;return this.length===10&&n.length===10?p=O(this,n,u):m<63?p=F(this,n,u):m<1024?p=W(this,n,u):p=z(this,n,u),p};function Z(M,n){this.x=M,this.y=n}Z.prototype.makeRBT=function(n){for(var u=new Array(n),p=i.prototype._countBits(n)-1,m=0;m<n;m++)u[m]=this.revBin(m,p,n);return u},Z.prototype.revBin=function(n,u,p){if(n===0||n===p-1)return n;for(var m=0,v=0;v<u;v++)m|=(n&1)<<u-v-1,n>>=1;return m},Z.prototype.permute=function(n,u,p,m,v,E){for(var A=0;A<E;A++)m[A]=u[n[A]],v[A]=p[n[A]]},Z.prototype.transform=function(n,u,p,m,v,E){this.permute(E,n,u,p,m,v);for(var A=1;A<v;A<<=1)for(var g=A<<1,f=Math.cos(2*Math.PI/g),w=Math.sin(2*Math.PI/g),N=0;N<v;N+=g)for(var C=f,L=w,q=0;q<A;q++){var V=p[N+q],tt=m[N+q],Ct=p[N+q+A],J=m[N+q+A],nt=C*Ct-L*J;J=C*J+L*Ct,Ct=nt,p[N+q]=V+Ct,m[N+q]=tt+J,p[N+q+A]=V-Ct,m[N+q+A]=tt-J,q!==g&&(nt=f*C-w*L,L=f*L+w*C,C=nt)}},Z.prototype.guessLen13b=function(n,u){var p=Math.max(u,n)|1,m=p&1,v=0;for(p=p/2|0;p;p=p>>>1)v++;return 1<<v+1+m},Z.prototype.conjugate=function(n,u,p){if(!(p<=1))for(var m=0;m<p/2;m++){var v=n[m];n[m]=n[p-m-1],n[p-m-1]=v,v=u[m],u[m]=-u[p-m-1],u[p-m-1]=-v}},Z.prototype.normalize13b=function(n,u){for(var p=0,m=0;m<u/2;m++){var v=Math.round(n[2*m+1]/u)*8192+Math.round(n[2*m]/u)+p;n[m]=v&67108863,v<67108864?p=0:p=v/67108864|0}return n},Z.prototype.convert13b=function(n,u,p,m){for(var v=0,E=0;E<u;E++)v=v+(n[E]|0),p[2*E]=v&8191,v=v>>>13,p[2*E+1]=v&8191,v=v>>>13;for(E=2*u;E<m;++E)p[E]=0;s(v===0),s((v&-8192)===0)},Z.prototype.stub=function(n){for(var u=new Array(n),p=0;p<n;p++)u[p]=0;return u},Z.prototype.mulp=function(n,u,p){var m=2*this.guessLen13b(n.length,u.length),v=this.makeRBT(m),E=this.stub(m),A=new Array(m),g=new Array(m),f=new Array(m),w=new Array(m),N=new Array(m),C=new Array(m),L=p.words;L.length=m,this.convert13b(n.words,n.length,A,m),this.convert13b(u.words,u.length,w,m),this.transform(A,E,g,f,m,v),this.transform(w,E,N,C,m,v);for(var q=0;q<m;q++){var V=g[q]*N[q]-f[q]*C[q];f[q]=g[q]*C[q]+f[q]*N[q],g[q]=V}return this.conjugate(g,f,m),this.transform(g,f,L,E,m,v),this.conjugate(L,E,m),this.normalize13b(L,m),p.negative=n.negative^u.negative,p.length=n.length+u.length,p.strip()},i.prototype.mul=function(n){var u=new i(null);return u.words=new Array(this.length+n.length),this.mulTo(n,u)},i.prototype.mulf=function(n){var u=new i(null);return u.words=new Array(this.length+n.length),z(this,n,u)},i.prototype.imul=function(n){return this.clone().mulTo(n,this)},i.prototype.imuln=function(n){s(typeof n=="number"),s(n<67108864);for(var u=0,p=0;p<this.length;p++){var m=(this.words[p]|0)*n,v=(m&67108863)+(u&67108863);u>>=26,u+=m/67108864|0,u+=v>>>26,this.words[p]=v&67108863}return u!==0&&(this.words[p]=u,this.length++),this},i.prototype.muln=function(n){return this.clone().imuln(n)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(n){var u=D(n);if(u.length===0)return new i(1);for(var p=this,m=0;m<u.length&&u[m]===0;m++,p=p.sqr());if(++m<u.length)for(var v=p.sqr();m<u.length;m++,v=v.sqr())u[m]!==0&&(p=p.mul(v));return p},i.prototype.iushln=function(n){s(typeof n=="number"&&n>=0);var u=n%26,p=(n-u)/26,m=67108863>>>26-u<<26-u,v;if(u!==0){var E=0;for(v=0;v<this.length;v++){var A=this.words[v]&m,g=(this.words[v]|0)-A<<u;this.words[v]=g|E,E=A>>>26-u}E&&(this.words[v]=E,this.length++)}if(p!==0){for(v=this.length-1;v>=0;v--)this.words[v+p]=this.words[v];for(v=0;v<p;v++)this.words[v]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(n){return s(this.negative===0),this.iushln(n)},i.prototype.iushrn=function(n,u,p){s(typeof n=="number"&&n>=0);var m;u?m=(u-u%26)/26:m=0;var v=n%26,E=Math.min((n-v)/26,this.length),A=67108863^67108863>>>v<<v,g=p;if(m-=E,m=Math.max(0,m),g){for(var f=0;f<E;f++)g.words[f]=this.words[f];g.length=E}if(E!==0)if(this.length>E)for(this.length-=E,f=0;f<this.length;f++)this.words[f]=this.words[f+E];else this.words[0]=0,this.length=1;var w=0;for(f=this.length-1;f>=0&&(w!==0||f>=m);f--){var N=this.words[f]|0;this.words[f]=w<<26-v|N>>>v,w=N&A}return g&&w!==0&&(g.words[g.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(n,u,p){return s(this.negative===0),this.iushrn(n,u,p)},i.prototype.shln=function(n){return this.clone().ishln(n)},i.prototype.ushln=function(n){return this.clone().iushln(n)},i.prototype.shrn=function(n){return this.clone().ishrn(n)},i.prototype.ushrn=function(n){return this.clone().iushrn(n)},i.prototype.testn=function(n){s(typeof n=="number"&&n>=0);var u=n%26,p=(n-u)/26,m=1<<u;if(this.length<=p)return!1;var v=this.words[p];return!!(v&m)},i.prototype.imaskn=function(n){s(typeof n=="number"&&n>=0);var u=n%26,p=(n-u)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(u!==0&&p++,this.length=Math.min(p,this.length),u!==0){var m=67108863^67108863>>>u<<u;this.words[this.length-1]&=m}return this.strip()},i.prototype.maskn=function(n){return this.clone().imaskn(n)},i.prototype.iaddn=function(n){return s(typeof n=="number"),s(n<67108864),n<0?this.isubn(-n):this.negative!==0?this.length===1&&(this.words[0]|0)<n?(this.words[0]=n-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(n),this.negative=1,this):this._iaddn(n)},i.prototype._iaddn=function(n){this.words[0]+=n;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(n){if(s(typeof n=="number"),s(n<67108864),n<0)return this.iaddn(-n);if(this.negative!==0)return this.negative=0,this.iaddn(n),this.negative=1,this;if(this.words[0]-=n,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(n){return this.clone().iaddn(n)},i.prototype.subn=function(n){return this.clone().isubn(n)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(n,u,p){var m=n.length+p,v;this._expand(m);var E,A=0;for(v=0;v<n.length;v++){E=(this.words[v+p]|0)+A;var g=(n.words[v]|0)*u;E-=g&67108863,A=(E>>26)-(g/67108864|0),this.words[v+p]=E&67108863}for(;v<this.length-p;v++)E=(this.words[v+p]|0)+A,A=E>>26,this.words[v+p]=E&67108863;if(A===0)return this.strip();for(s(A===-1),A=0,v=0;v<this.length;v++)E=-(this.words[v]|0)+A,A=E>>26,this.words[v]=E&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(n,u){var p=this.length-n.length,m=this.clone(),v=n,E=v.words[v.length-1]|0,A=this._countBits(E);p=26-A,p!==0&&(v=v.ushln(p),m.iushln(p),E=v.words[v.length-1]|0);var g=m.length-v.length,f;if(u!=="mod"){f=new i(null),f.length=g+1,f.words=new Array(f.length);for(var w=0;w<f.length;w++)f.words[w]=0}var N=m.clone()._ishlnsubmul(v,1,g);N.negative===0&&(m=N,f&&(f.words[g]=1));for(var C=g-1;C>=0;C--){var L=(m.words[v.length+C]|0)*67108864+(m.words[v.length+C-1]|0);for(L=Math.min(L/E|0,67108863),m._ishlnsubmul(v,L,C);m.negative!==0;)L--,m.negative=0,m._ishlnsubmul(v,1,C),m.isZero()||(m.negative^=1);f&&(f.words[C]=L)}return f&&f.strip(),m.strip(),u!=="div"&&p!==0&&m.iushrn(p),{div:f||null,mod:m}},i.prototype.divmod=function(n,u,p){if(s(!n.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var m,v,E;return this.negative!==0&&n.negative===0?(E=this.neg().divmod(n,u),u!=="mod"&&(m=E.div.neg()),u!=="div"&&(v=E.mod.neg(),p&&v.negative!==0&&v.iadd(n)),{div:m,mod:v}):this.negative===0&&n.negative!==0?(E=this.divmod(n.neg(),u),u!=="mod"&&(m=E.div.neg()),{div:m,mod:E.mod}):this.negative&n.negative?(E=this.neg().divmod(n.neg(),u),u!=="div"&&(v=E.mod.neg(),p&&v.negative!==0&&v.isub(n)),{div:E.div,mod:v}):n.length>this.length||this.cmp(n)<0?{div:new i(0),mod:this}:n.length===1?u==="div"?{div:this.divn(n.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(n.words[0]))}:{div:this.divn(n.words[0]),mod:new i(this.modn(n.words[0]))}:this._wordDiv(n,u)},i.prototype.div=function(n){return this.divmod(n,"div",!1).div},i.prototype.mod=function(n){return this.divmod(n,"mod",!1).mod},i.prototype.umod=function(n){return this.divmod(n,"mod",!0).mod},i.prototype.divRound=function(n){var u=this.divmod(n);if(u.mod.isZero())return u.div;var p=u.div.negative!==0?u.mod.isub(n):u.mod,m=n.ushrn(1),v=n.andln(1),E=p.cmp(m);return E<0||v===1&&E===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(n){s(n<=67108863);for(var u=(1<<26)%n,p=0,m=this.length-1;m>=0;m--)p=(u*p+(this.words[m]|0))%n;return p},i.prototype.idivn=function(n){s(n<=67108863);for(var u=0,p=this.length-1;p>=0;p--){var m=(this.words[p]|0)+u*67108864;this.words[p]=m/n|0,u=m%n}return this.strip()},i.prototype.divn=function(n){return this.clone().idivn(n)},i.prototype.egcd=function(n){s(n.negative===0),s(!n.isZero());var u=this,p=n.clone();u.negative!==0?u=u.umod(n):u=u.clone();for(var m=new i(1),v=new i(0),E=new i(0),A=new i(1),g=0;u.isEven()&&p.isEven();)u.iushrn(1),p.iushrn(1),++g;for(var f=p.clone(),w=u.clone();!u.isZero();){for(var N=0,C=1;!(u.words[0]&C)&&N<26;++N,C<<=1);if(N>0)for(u.iushrn(N);N-- >0;)(m.isOdd()||v.isOdd())&&(m.iadd(f),v.isub(w)),m.iushrn(1),v.iushrn(1);for(var L=0,q=1;!(p.words[0]&q)&&L<26;++L,q<<=1);if(L>0)for(p.iushrn(L);L-- >0;)(E.isOdd()||A.isOdd())&&(E.iadd(f),A.isub(w)),E.iushrn(1),A.iushrn(1);u.cmp(p)>=0?(u.isub(p),m.isub(E),v.isub(A)):(p.isub(u),E.isub(m),A.isub(v))}return{a:E,b:A,gcd:p.iushln(g)}},i.prototype._invmp=function(n){s(n.negative===0),s(!n.isZero());var u=this,p=n.clone();u.negative!==0?u=u.umod(n):u=u.clone();for(var m=new i(1),v=new i(0),E=p.clone();u.cmpn(1)>0&&p.cmpn(1)>0;){for(var A=0,g=1;!(u.words[0]&g)&&A<26;++A,g<<=1);if(A>0)for(u.iushrn(A);A-- >0;)m.isOdd()&&m.iadd(E),m.iushrn(1);for(var f=0,w=1;!(p.words[0]&w)&&f<26;++f,w<<=1);if(f>0)for(p.iushrn(f);f-- >0;)v.isOdd()&&v.iadd(E),v.iushrn(1);u.cmp(p)>=0?(u.isub(p),m.isub(v)):(p.isub(u),v.isub(m))}var N;return u.cmpn(1)===0?N=m:N=v,N.cmpn(0)<0&&N.iadd(n),N},i.prototype.gcd=function(n){if(this.isZero())return n.abs();if(n.isZero())return this.abs();var u=this.clone(),p=n.clone();u.negative=0,p.negative=0;for(var m=0;u.isEven()&&p.isEven();m++)u.iushrn(1),p.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;p.isEven();)p.iushrn(1);var v=u.cmp(p);if(v<0){var E=u;u=p,p=E}else if(v===0||p.cmpn(1)===0)break;u.isub(p)}while(!0);return p.iushln(m)},i.prototype.invm=function(n){return this.egcd(n).a.umod(n)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(n){return this.words[0]&n},i.prototype.bincn=function(n){s(typeof n=="number");var u=n%26,p=(n-u)/26,m=1<<u;if(this.length<=p)return this._expand(p+1),this.words[p]|=m,this;for(var v=m,E=p;v!==0&&E<this.length;E++){var A=this.words[E]|0;A+=v,v=A>>>26,A&=67108863,this.words[E]=A}return v!==0&&(this.words[E]=v,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(n){var u=n<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var p;if(this.length>1)p=1;else{u&&(n=-n),s(n<=67108863,"Number is too big");var m=this.words[0]|0;p=m===n?0:m<n?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(n){if(this.negative!==0&&n.negative===0)return-1;if(this.negative===0&&n.negative!==0)return 1;var u=this.ucmp(n);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(n){if(this.length>n.length)return 1;if(this.length<n.length)return-1;for(var u=0,p=this.length-1;p>=0;p--){var m=this.words[p]|0,v=n.words[p]|0;if(m!==v){m<v?u=-1:m>v&&(u=1);break}}return u},i.prototype.gtn=function(n){return this.cmpn(n)===1},i.prototype.gt=function(n){return this.cmp(n)===1},i.prototype.gten=function(n){return this.cmpn(n)>=0},i.prototype.gte=function(n){return this.cmp(n)>=0},i.prototype.ltn=function(n){return this.cmpn(n)===-1},i.prototype.lt=function(n){return this.cmp(n)===-1},i.prototype.lten=function(n){return this.cmpn(n)<=0},i.prototype.lte=function(n){return this.cmp(n)<=0},i.prototype.eqn=function(n){return this.cmpn(n)===0},i.prototype.eq=function(n){return this.cmp(n)===0},i.red=function(n){return new rt(n)},i.prototype.toRed=function(n){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),n.convertTo(this)._forceRed(n)},i.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(n){return this.red=n,this},i.prototype.forceRed=function(n){return s(!this.red,"Already a number in reduction context"),this._forceRed(n)},i.prototype.redAdd=function(n){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,n)},i.prototype.redIAdd=function(n){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,n)},i.prototype.redSub=function(n){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,n)},i.prototype.redISub=function(n){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,n)},i.prototype.redShl=function(n){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,n)},i.prototype.redMul=function(n){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,n),this.red.mul(this,n)},i.prototype.redIMul=function(n){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,n),this.red.imul(this,n)},i.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(n){return s(this.red&&!n.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,n)};var X={k256:null,p224:null,p192:null,p25519:null};function ft(M,n){this.name=M,this.p=new i(n,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ft.prototype._tmp=function(){var n=new i(null);return n.words=new Array(Math.ceil(this.n/13)),n},ft.prototype.ireduce=function(n){var u=n,p;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),p=u.bitLength();while(p>this.n);var m=p<this.n?-1:u.ucmp(this.p);return m===0?(u.words[0]=0,u.length=1):m>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},ft.prototype.split=function(n,u){n.iushrn(this.n,0,u)},ft.prototype.imulK=function(n){return n.imul(this.k)};function yt(){ft.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}h(yt,ft),yt.prototype.split=function(n,u){for(var p=4194303,m=Math.min(n.length,9),v=0;v<m;v++)u.words[v]=n.words[v];if(u.length=m,n.length<=9){n.words[0]=0,n.length=1;return}var E=n.words[9];for(u.words[u.length++]=E&p,v=10;v<n.length;v++){var A=n.words[v]|0;n.words[v-10]=(A&p)<<4|E>>>22,E=A}E>>>=22,n.words[v-10]=E,E===0&&n.length>10?n.length-=10:n.length-=9},yt.prototype.imulK=function(n){n.words[n.length]=0,n.words[n.length+1]=0,n.length+=2;for(var u=0,p=0;p<n.length;p++){var m=n.words[p]|0;u+=m*977,n.words[p]=u&67108863,u=m*64+(u/67108864|0)}return n.words[n.length-1]===0&&(n.length--,n.words[n.length-1]===0&&n.length--),n};function Xt(){ft.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}h(Xt,ft);function Jt(){ft.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}h(Jt,ft);function kt(){ft.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}h(kt,ft),kt.prototype.imulK=function(n){for(var u=0,p=0;p<n.length;p++){var m=(n.words[p]|0)*19+u,v=m&67108863;m>>>=26,n.words[p]=v,u=m}return u!==0&&(n.words[n.length++]=u),n},i._prime=function(n){if(X[n])return X[n];var u;if(n==="k256")u=new yt;else if(n==="p224")u=new Xt;else if(n==="p192")u=new Jt;else if(n==="p25519")u=new kt;else throw new Error("Unknown prime "+n);return X[n]=u,u};function rt(M){if(typeof M=="string"){var n=i._prime(M);this.m=n.p,this.prime=n}else s(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}rt.prototype._verify1=function(n){s(n.negative===0,"red works only with positives"),s(n.red,"red works only with red numbers")},rt.prototype._verify2=function(n,u){s((n.negative|u.negative)===0,"red works only with positives"),s(n.red&&n.red===u.red,"red works only with red numbers")},rt.prototype.imod=function(n){return this.prime?this.prime.ireduce(n)._forceRed(this):n.umod(this.m)._forceRed(this)},rt.prototype.neg=function(n){return n.isZero()?n.clone():this.m.sub(n)._forceRed(this)},rt.prototype.add=function(n,u){this._verify2(n,u);var p=n.add(u);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},rt.prototype.iadd=function(n,u){this._verify2(n,u);var p=n.iadd(u);return p.cmp(this.m)>=0&&p.isub(this.m),p},rt.prototype.sub=function(n,u){this._verify2(n,u);var p=n.sub(u);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},rt.prototype.isub=function(n,u){this._verify2(n,u);var p=n.isub(u);return p.cmpn(0)<0&&p.iadd(this.m),p},rt.prototype.shl=function(n,u){return this._verify1(n),this.imod(n.ushln(u))},rt.prototype.imul=function(n,u){return this._verify2(n,u),this.imod(n.imul(u))},rt.prototype.mul=function(n,u){return this._verify2(n,u),this.imod(n.mul(u))},rt.prototype.isqr=function(n){return this.imul(n,n.clone())},rt.prototype.sqr=function(n){return this.mul(n,n)},rt.prototype.sqrt=function(n){if(n.isZero())return n.clone();var u=this.m.andln(3);if(s(u%2===1),u===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(n,p)}for(var m=this.m.subn(1),v=0;!m.isZero()&&m.andln(1)===0;)v++,m.iushrn(1);s(!m.isZero());var E=new i(1).toRed(this),A=E.redNeg(),g=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,g).cmp(A)!==0;)f.redIAdd(A);for(var w=this.pow(f,m),N=this.pow(n,m.addn(1).iushrn(1)),C=this.pow(n,m),L=v;C.cmp(E)!==0;){for(var q=C,V=0;q.cmp(E)!==0;V++)q=q.redSqr();s(V<L);var tt=this.pow(w,new i(1).iushln(L-V-1));N=N.redMul(tt),w=tt.redSqr(),C=C.redMul(w),L=V}return N},rt.prototype.invm=function(n){var u=n._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},rt.prototype.pow=function(n,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return n.clone();var p=4,m=new Array(1<<p);m[0]=new i(1).toRed(this),m[1]=n;for(var v=2;v<m.length;v++)m[v]=this.mul(m[v-1],n);var E=m[0],A=0,g=0,f=u.bitLength()%26;for(f===0&&(f=26),v=u.length-1;v>=0;v--){for(var w=u.words[v],N=f-1;N>=0;N--){var C=w>>N&1;if(E!==m[0]&&(E=this.sqr(E)),C===0&&A===0){g=0;continue}A<<=1,A|=C,g++,!(g!==p&&(v!==0||N!==0))&&(E=this.mul(E,m[A]),g=0,A=0)}f=26}return E},rt.prototype.convertTo=function(n){var u=n.umod(this.m);return u===n?u.clone():u},rt.prototype.convertFrom=function(n){var u=n.clone();return u.red=null,u},i.mont=function(n){return new $t(n)};function $t(M){rt.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}h($t,rt),$t.prototype.convertTo=function(n){return this.imod(n.ushln(this.shift))},$t.prototype.convertFrom=function(n){var u=this.imod(n.mul(this.rinv));return u.red=null,u},$t.prototype.imul=function(n,u){if(n.isZero()||u.isZero())return n.words[0]=0,n.length=1,n;var p=n.imul(u),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),E=v;return v.cmp(this.m)>=0?E=v.isub(this.m):v.cmpn(0)<0&&(E=v.iadd(this.m)),E._forceRed(this)},$t.prototype.mul=function(n,u){if(n.isZero()||u.isZero())return new i(0)._forceRed(this);var p=n.mul(u),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),E=v;return v.cmp(this.m)>=0?E=v.isub(this.m):v.cmpn(0)<0&&(E=v.iadd(this.m)),E._forceRed(this)},$t.prototype.invm=function(n){var u=this.imod(n._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(t,ti)})(qr);var Kt=qr.exports,fn={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0]},un={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},hn={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},ln={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0]},xe=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],To={m:new Kt.BN(1e3,10),u:new Kt.BN(1e6,10),n:new Kt.BN(1e9,10),p:new Kt.BN(1e12,10)},Fo=new Kt.BN("2100000000000000000",10),cn=new Kt.BN(1e11,10),Tr={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27},Kn={};for(var Fe=0,br=Object.keys(Tr);Fe<br.length;Fe++){var Uo=br[Fe],Oo=Tr[br[Fe]].toString();Kn[Oo]=Uo}var No={1:function(t){return ne(t,!0)},16:function(t){return ne(t,!0)},13:function(t){return ne(t,!0).toString("utf8")},19:function(t){return ne(t,!0)},23:function(t){return ne(t,!0)},27:function(t){return ne(t,!0)},6:qe,24:qe,3:Po,5:Lo};function ko(t){return function(e){return{tagCode:parseInt(t),words:An.encode("unknown",e,Number.MAX_SAFE_INTEGER)}}}function qe(t){return t.reverse().reduce(function(e,r,s){return e+r*Math.pow(32,s)},0)}function Co(t,e,r){for(var s=0,h=0,i=(1<<r)-1,c=[],d=0;d<t.length;++d)for(s=s<<e|t[d],h+=e;h>=r;)h-=r,c.push(s>>h&i);return h>0&&c.push(s<<r-h&i),c}function ne(t,e){var r=Re.Buffer.from(Co(t,5,8));return e&&t.length*5%8!==0&&(r=r.slice(0,-1)),r}function Po(t){for(var e=[],r,s,h,i,c,d=ne(t,!0);d.length>0;)r=d.slice(0,33).toString("hex"),s=d.slice(33,41).toString("hex"),h=parseInt(d.slice(41,45).toString("hex"),16),i=parseInt(d.slice(45,49).toString("hex"),16),c=parseInt(d.slice(49,51).toString("hex"),16),d=d.slice(51),e.push({pubkey:r,short_channel_id:s,fee_base_msat:h,fee_proportional_millionths:i,cltv_expiry_delta:c});return e}function Lo(t){for(var e=t.slice().reverse().map(function(h){return[!!(h&1),!!(h&2),!!(h&4),!!(h&8),!!(h&16)]}).reduce(function(h,i){return h.concat(i)},[]);e.length<xe.length*2;)e.push(!1);var r={extra_bits:{}};if(xe.forEach(function(h,i){var c;e[i*2]?c="required":e[i*2+1]&&(c="supported"),r[h]=c}),e.length>xe.length*2){var s=e.slice(xe.length*2);r.extra_bits={start_bit:xe.length*2,bits:s,required:s.reduce(function(h,i,c){return c%2!==0?h||!1:h||i},!1)}}return r}function Do(t,e){var r,s;if(t.slice(-1).match(/^[munp]$/))r=t.slice(-1),s=t.slice(0,-1);else{if(t.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");s=t}if(!s.match(/^\d+$/))throw new Error("Not a valid human readable amount");var h=new Kt.BN(s,10),i=r?h.mul(cn).div(To[r]):h.mul(cn);if(r==="p"&&!h.mod(new Kt.BN(10,10)).eq(new Kt.BN(0,10))||i.gt(Fo))throw new Error("Amount is outside of valid range");return e?i.toString():i}function Ho(t,e){if(typeof t!="string")throw new Error("Lightning Payment Request must be string");if(t.slice(0,2).toLowerCase()!=="ln")throw new Error("Not a proper lightning payment request");var r=[],s=An.decode(t,Number.MAX_SAFE_INTEGER);t=t.toLowerCase();var h=s.prefix,i=s.words,c=t.slice(h.length+1),d=i.slice(-104);i=i.slice(0,-104);var S=h.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(S&&!S[2]&&(S=h.match(/^ln(\S+)$/)),!S)throw new Error("Not a proper lightning payment request");r.push({name:"lightning_network",letters:"ln"});var x=S[1],B;if(e){if(e.bech32===void 0||e.pubKeyHash===void 0||e.scriptHash===void 0||!Array.isArray(e.validWitnessVersions))throw new Error("Invalid network");B=e}else switch(x){case fn.bech32:B=fn;break;case un.bech32:B=un;break;case hn.bech32:B=hn;break;case ln.bech32:B=ln;break}if(!B||B.bech32!==x)throw new Error("Unknown coin bech32 prefix");r.push({name:"coin_network",letters:x,value:B});var _=S[2],U;if(_){var D=S[3];U=Do(_+D,!0),r.push({name:"amount",letters:S[2]+S[3],value:U})}else U=null;r.push({name:"separator",letters:"1"});var F=qe(i.slice(0,7));i=i.slice(7),r.push({name:"timestamp",letters:c.slice(0,7),value:F}),c=c.slice(7);for(var O,W,z,Z;i.length>0;){var X=i[0].toString();O=Kn[X]||"unknown_tag",W=No[X]||ko(X),i=i.slice(1),z=qe(i.slice(0,2)),i=i.slice(2),Z=i.slice(0,z),i=i.slice(z),r.push({name:O,tag:c[0],letters:c.slice(0,1+2+z),value:W(Z)}),c=c.slice(1+2+z)}r.push({name:"signature",letters:c.slice(0,104),value:ne(d,!0)}),c=c.slice(104),r.push({name:"checksum",letters:c});var ft={paymentRequest:t,sections:r,get expiry(){var kt=r.find(function(rt){return rt.name==="expiry"});if(kt)return Jt("timestamp")+kt.value},get route_hints(){return r.filter(function(kt){return kt.name==="route_hint"}).map(function(kt){return kt.value})}},yt=function(kt){if(kt==="route_hint")return"continue";Object.defineProperty(ft,kt,{get:function(){return Jt(kt)}})};for(var Xt in Tr)yt(Xt);return ft;function Jt(kt){var rt=r.find(function($t){return $t.name===kt});return rt?rt.value:void 0}}/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const Q=BigInt(0),ht=BigInt(1),ie=BigInt(2),Ee=BigInt(3),dn=BigInt(8),Nt=Object.freeze({a:Q,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:ht,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),pn=(t,e)=>(t+e/ie)/e,Ue={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){const{n:e}=Nt,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-ht*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),h=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,c=BigInt("0x100000000000000000000000000000000"),d=pn(i*t,e),S=pn(-s*t,e);let x=k(t-d*r-S*h,e),B=k(-d*s-S*i,e);const _=x>c,U=B>c;if(_&&(x=e-x),U&&(B=e-B),x>c||B>c)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:_,k1:x,k2neg:U,k2:B}}},ce=32,Ae=32,mn=ce+1,yn=2*ce+1;function wn(t){const{a:e,b:r}=Nt,s=k(t*t),h=k(s*t);return k(h+e*t+r)}const Oe=Nt.a===Q;class qo extends Error{constructor(e){super(e)}}function gn(t){if(!(t instanceof G))throw new TypeError("JacobianPoint expected")}class G{constructor(e,r,s){this.x=e,this.y=r,this.z=s}static fromAffine(e){if(!(e instanceof at))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(at.ZERO)?G.ZERO:new G(e.x,e.y,ht)}static toAffineBatch(e){const r=jo(e.map(s=>s.z));return e.map((s,h)=>s.toAffine(r[h]))}static normalizeZ(e){return G.toAffineBatch(e).map(G.fromAffine)}equals(e){gn(e);const{x:r,y:s,z:h}=this,{x:i,y:c,z:d}=e,S=k(h*h),x=k(d*d),B=k(r*x),_=k(i*S),U=k(k(s*d)*x),D=k(k(c*h)*S);return B===_&&U===D}negate(){return new G(this.x,k(-this.y),this.z)}double(){const{x:e,y:r,z:s}=this,h=k(e*e),i=k(r*r),c=k(i*i),d=e+i,S=k(ie*(k(d*d)-h-c)),x=k(Ee*h),B=k(x*x),_=k(B-ie*S),U=k(x*(S-_)-dn*c),D=k(ie*r*s);return new G(_,U,D)}add(e){gn(e);const{x:r,y:s,z:h}=this,{x:i,y:c,z:d}=e;if(i===Q||c===Q)return this;if(r===Q||s===Q)return e;const S=k(h*h),x=k(d*d),B=k(r*x),_=k(i*S),U=k(k(s*d)*x),D=k(k(c*h)*S),F=k(_-B),O=k(D-U);if(F===Q)return O===Q?this.double():G.ZERO;const W=k(F*F),z=k(F*W),Z=k(B*W),X=k(O*O-z-ie*Z),ft=k(O*(Z-X)-U*z),yt=k(h*d*F);return new G(X,ft,yt)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const r=G.ZERO;if(typeof e=="bigint"&&e===Q)return r;let s=bn(e);if(s===ht)return this;if(!Oe){let _=r,U=this;for(;s>Q;)s&ht&&(_=_.add(U)),U=U.double(),s>>=ht;return _}let{k1neg:h,k1:i,k2neg:c,k2:d}=Ue.splitScalar(s),S=r,x=r,B=this;for(;i>Q||d>Q;)i&ht&&(S=S.add(B)),d&ht&&(x=x.add(B)),B=B.double(),i>>=ht,d>>=ht;return h&&(S=S.negate()),c&&(x=x.negate()),x=new G(k(x.x*Ue.beta),x.y,x.z),S.add(x)}precomputeWindow(e){const r=Oe?128/e+1:256/e+1,s=[];let h=this,i=h;for(let c=0;c<r;c++){i=h,s.push(i);for(let d=1;d<2**(e-1);d++)i=i.add(h),s.push(i);h=i.double()}return s}wNAF(e,r){!r&&this.equals(G.BASE)&&(r=at.BASE);const s=r&&r._WINDOW_SIZE||1;if(256%s)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let h=r&&Fr.get(r);h||(h=this.precomputeWindow(s),r&&s!==1&&(h=G.normalizeZ(h),Fr.set(r,h)));let i=G.ZERO,c=G.BASE;const d=1+(Oe?128/s:256/s),S=2**(s-1),x=BigInt(2**s-1),B=2**s,_=BigInt(s);for(let U=0;U<d;U++){const D=U*S;let F=Number(e&x);e>>=_,F>S&&(F-=B,e+=ht);const O=D,W=D+Math.abs(F)-1,z=U%2!==0,Z=F<0;F===0?c=c.add(Ne(z,h[O])):i=i.add(Ne(Z,h[W]))}return{p:i,f:c}}multiply(e,r){let s=bn(e),h,i;if(Oe){const{k1neg:c,k1:d,k2neg:S,k2:x}=Ue.splitScalar(s);let{p:B,f:_}=this.wNAF(d,r),{p:U,f:D}=this.wNAF(x,r);B=Ne(c,B),U=Ne(S,U),U=new G(k(U.x*Ue.beta),U.y,U.z),h=B.add(U),i=_.add(D)}else{const{p:c,f:d}=this.wNAF(s,r);h=c,i=d}return G.normalizeZ([h,i])[0]}toAffine(e){const{x:r,y:s,z:h}=this,i=this.equals(G.ZERO);e==null&&(e=i?dn:Je(h));const c=e,d=k(c*c),S=k(d*c),x=k(r*d),B=k(s*S),_=k(h*c);if(i)return at.ZERO;if(_!==ht)throw new Error("invZ was invalid");return new at(x,B)}}G.BASE=new G(Nt.Gx,Nt.Gy,ht);G.ZERO=new G(Q,ht,Q);function Ne(t,e){const r=e.negate();return t?r:e}const Fr=new WeakMap;class at{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,Fr.delete(this)}hasEvenY(){return this.y%ie===Q}static fromCompressedHex(e){const r=e.length===32,s=ae(r?e:e.subarray(1));if(!Br(s))throw new Error("Point is not on curve");const h=wn(s);let i=Wo(h);const c=(i&ht)===ht;r?c&&(i=k(-i)):(e[0]&1)===1!==c&&(i=k(-i));const d=new at(s,i);return d.assertValidity(),d}static fromUncompressedHex(e){const r=ae(e.subarray(1,ce+1)),s=ae(e.subarray(ce+1,ce*2+1)),h=new at(r,s);return h.assertValidity(),h}static fromHex(e){const r=Ur(e),s=r.length,h=r[0];if(s===ce)return this.fromCompressedHex(r);if(s===mn&&(h===2||h===3))return this.fromCompressedHex(r);if(s===yn&&h===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${mn} compressed bytes or ${yn} uncompressed bytes, not ${s}`)}static fromPrivateKey(e){return at.BASE.multiply(Or(e))}static fromSignature(e,r,s){const{r:h,s:i}=Go(r);if(![0,1,2,3].includes(s))throw new Error("Cannot recover: invalid recovery bit");const c=Ko(Ur(e)),{n:d}=Nt,S=s===2||s===3?h+d:h,x=Je(S,d),B=k(-c*x,d),_=k(i*x,d),U=s&1?"03":"02",D=at.fromHex(U+de(S)),F=at.BASE.multiplyAndAddUnsafe(D,B,_);if(!F)throw new Error("Cannot recover signature: point at infinify");return F.assertValidity(),F}toRawBytes(e=!1){return se(this.toHex(e))}toHex(e=!1){const r=de(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${de(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:r,y:s}=this;if(!Br(r)||!Br(s))throw new Error(e);const h=k(s*s),i=wn(r);if(k(h-i)!==Q)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new at(this.x,k(-this.y))}double(){return G.fromAffine(this).double().toAffine()}add(e){return G.fromAffine(this).add(G.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return G.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,s){const h=G.fromAffine(this),i=r===Q||r===ht||this!==at.BASE?h.multiplyUnsafe(r):h.multiply(r),c=G.fromAffine(e).multiplyUnsafe(s),d=i.add(c);return d.equals(G.ZERO)?void 0:d.toAffine()}}at.BASE=new at(Nt.Gx,Nt.Gy);at.ZERO=new at(Q,Q);function vn(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function xn(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${ye(t)}`);const e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:ae(r),left:t.subarray(e+2)}}function $o(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${ye(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:r}=xn(t.subarray(2)),{data:s,left:h}=xn(r);if(h.length)throw new Error(`Invalid signature: left bytes after parsing: ${ye(h)}`);return{r:e,s}}class oe{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){const r=e instanceof Uint8Array,s="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${s}: Expected string or Uint8Array`);const h=r?ye(e):e;if(h.length!==128)throw new Error(`${s}: Expected 64-byte hex`);return new oe($e(h.slice(0,64)),$e(h.slice(64,128)))}static fromDER(e){const r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:s,s:h}=$o(r?e:se(e));return new oe(s,h)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:r}=this;if(!ze(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!ze(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=Nt.n>>ht;return this.s>e}normalizeS(){return this.hasHighS()?new oe(this.r,k(-this.s,Nt.n)):this}toDERRawBytes(){return se(this.toDERHex())}toDERHex(){const e=vn(be(this.s)),r=vn(be(this.r)),s=e.length/2,h=r.length/2,i=be(s),c=be(h);return`30${be(h+s+4)}02${c}${r}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return se(this.toCompactHex())}toCompactHex(){return de(this.r)+de(this.s)}}function Me(...t){if(!t.every(s=>s instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];const e=t.reduce((s,h)=>s+h.length,0),r=new Uint8Array(e);for(let s=0,h=0;s<t.length;s++){const i=t[s];r.set(i,h),h+=i.length}return r}const zo=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ye(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=zo[t[r]];return e}const Zo=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function de(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(Q<=t&&t<Zo))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function Mn(t){const e=se(de(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function be(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function $e(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function se(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const s=r*2,h=t.slice(s,s+2),i=Number.parseInt(h,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[r]=i}return e}function ae(t){return $e(ye(t))}function Ur(t){return t instanceof Uint8Array?Uint8Array.from(t):se(t)}function bn(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&ze(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function k(t,e=Nt.P){const r=t%e;return r>=Q?r:e+r}function Lt(t,e){const{P:r}=Nt;let s=t;for(;e-- >Q;)s*=s,s%=r;return s}function Wo(t){const{P:e}=Nt,r=BigInt(6),s=BigInt(11),h=BigInt(22),i=BigInt(23),c=BigInt(44),d=BigInt(88),S=t*t*t%e,x=S*S*t%e,B=Lt(x,Ee)*x%e,_=Lt(B,Ee)*x%e,U=Lt(_,ie)*S%e,D=Lt(U,s)*U%e,F=Lt(D,h)*D%e,O=Lt(F,c)*F%e,W=Lt(O,d)*O%e,z=Lt(W,c)*F%e,Z=Lt(z,Ee)*x%e,X=Lt(Z,i)*D%e,ft=Lt(X,r)*S%e,yt=Lt(ft,ie);if(yt*yt%e!==t)throw new Error("Cannot find square root");return yt}function Je(t,e=Nt.P){if(t===Q||e<=Q)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=k(t,e),s=e,h=Q,i=ht;for(;r!==Q;){const d=s/r,S=s%r,x=h-i*d;s=r,r=S,h=i,i=x}if(s!==ht)throw new Error("invert: does not exist");return k(h,e)}function jo(t,e=Nt.P){const r=new Array(t.length),s=t.reduce((i,c,d)=>c===Q?i:(r[d]=i,k(i*c,e)),ht),h=Je(s,e);return t.reduceRight((i,c,d)=>c===Q?i:(r[d]=k(i*r[d],e),k(i*c,e)),h),r}function Vo(t){const e=t.length*8-Ae*8,r=ae(t);return e>0?r>>BigInt(e):r}function Ko(t,e=!1){const r=Vo(t);if(e)return r;const{n:s}=Nt;return r>=s?r-s:r}let pe,Er;function ze(t){return Q<t&&t<Nt.n}function Br(t){return Q<t&&t<Nt.P}function Or(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*Ae)throw new Error("Expected 32 bytes of private key");e=$e(t)}else if(t instanceof Uint8Array){if(t.length!==Ae)throw new Error("Expected 32 bytes of private key");e=ae(t)}else throw new TypeError("Expected valid private key");if(!ze(e))throw new Error("Expected private key: 0 < key < n");return e}function Go(t){if(t instanceof oe)return t.assertValidity(),t;try{return oe.fromDER(t)}catch{return oe.fromCompact(t)}}at.BASE._setWindowSize(8);const Pt={node:ei,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},ke={},Ht={bytesToHex:ye,hexToBytes:se,concatBytes:Me,mod:k,invert:Je,isValidPrivateKey(t){try{return Or(t),!0}catch{return!1}},_bigintTo32Bytes:Mn,_normalizePrivateKey:Or,hashToPrivateKey:t=>{t=Ur(t);const e=Ae+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const r=k(ae(t),Nt.n-ht)+ht;return Mn(r)},randomBytes:(t=32)=>{if(Pt.web)return Pt.web.getRandomValues(new Uint8Array(t));if(Pt.node){const{randomBytes:e}=Pt.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Ht.hashToPrivateKey(Ht.randomBytes(Ae+8)),precompute(t=8,e=at.BASE){const r=e===at.BASE?e:new at(e.x,e.y);return r._setWindowSize(t),r.multiply(Ee),r},sha256:async(...t)=>{if(Pt.web){const e=await Pt.web.subtle.digest("SHA-256",Me(...t));return new Uint8Array(e)}else if(Pt.node){const{createHash:e}=Pt.node,r=e("sha256");return t.forEach(s=>r.update(s)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(Pt.web){const r=await Pt.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),s=Me(...e),h=await Pt.web.subtle.sign("HMAC",r,s);return new Uint8Array(h)}else if(Pt.node){const{createHmac:r}=Pt.node,s=r("sha256",t);return e.forEach(h=>s.update(h)),Uint8Array.from(s.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=ke[t];if(r===void 0){const s=await Ht.sha256(Uint8Array.from(t,h=>h.charCodeAt(0)));r=Me(s,s),ke[t]=r}return Ht.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof pe!="function")throw new qo("sha256Sync is undefined, you need to set it");let r=ke[t];if(r===void 0){const s=pe(Uint8Array.from(t,h=>h.charCodeAt(0)));r=Me(s,s),ke[t]=r}return pe(r,...e)},_JacobianPoint:G};Object.defineProperties(Ht,{sha256Sync:{configurable:!1,get(){return pe},set(t){pe||(pe=t)}},hmacSha256Sync:{configurable:!1,get(){return Er},set(t){Er||(Er=t)}}});function Gn(t){return Re.Buffer.from(t).toString("base64")}function Xn(t){var e=JSON.stringify(t);return Jo(Re.Buffer.from(e).toString("base64"))}function $r(t){var e=Re.Buffer.from(Xo(t),"base64").toString(),r=JSON.parse(e);return r}function Xo(t){return t.replace(/-/g,"+").replace(/_/g,"/")}function Jo(t){return t.replace(/\+/g,"-").replace(/\//g,"_").split("=")[0]}var Yo=function(){function t(e,r,s,h){this.id=e,this.amount=r,this.secret=s,this.C=h}return t.prototype.encodeProofToBase64=function(){return Xn([{id:this.id,amount:this.amount,secret:this.secret,string:this.C}])},t}(),Qo="A",ts="cashu";function es(t){for(var e=[],r=0;r<32;r++){var s=1<<r;t&s&&e.push(Math.pow(2,r))}return e}function rs(t){return ns(Ht.bytesToHex(t))}function ns(t){return BigInt("0x".concat(t))}function cs(t,e,r){var s={token:[{mint:e,proofs:t}]};return r&&(s.memo=r),ts+Qo+Xn(s)}function is(t){return t.startsWith("cashu")?os(t):ss(t)}function os(t){return t=t.slice(6),$r(t)}function ss(t){var e,r,s=$r(t);return Array.isArray(s)?{token:[{proofs:s,mint:""}]}:{token:[{proofs:s.proofs,mint:(r=(e=s==null?void 0:s.mints[0])===null||e===void 0?void 0:e.url)!==null&&r!==void 0?r:""}]}}var Jn=function(t,e,r,s){function h(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function d(B){try{x(s.next(B))}catch(_){c(_)}}function S(B){try{x(s.throw(B))}catch(_){c(_)}}function x(B){B.done?i(B.value):h(B.value).then(d,S)}x((s=s.apply(t,e||[])).next())})},Yn=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,h,i,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(x){return function(B){return S([x,B])}}function S(x){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,x[0]&&(r=0)),r;)try{if(s=1,h&&(i=x[0]&2?h.return:x[0]?h.throw||((i=h.return)&&i.call(h),0):h.next)&&!(i=i.call(h,x[1])).done)return i;switch(h=0,i&&(x=[x[0]&2,i.value]),x[0]){case 0:case 1:i=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,h=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!i||x[1]>i[0]&&x[1]<i[3])){r.label=x[1];break}if(x[0]===6&&r.label<i[1]){r.label=i[1],i=x;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(x);break}i[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(B){x=[6,B],h=0}finally{s=i=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}};function as(t){return Jn(this,void 0,void 0,function(){var e,r,s,h;return Yn(this,function(i){switch(i.label){case 0:return e?[3,6]:[4,Ht.sha256(t)];case 1:r=i.sent(),s=Ht.bytesToHex(r),h="02"+s,i.label=2;case 2:return i.trys.push([2,3,,5]),e=at.fromHex(h),[3,5];case 3:return i.sent(),[4,Ht.sha256(t)];case 4:return t=i.sent(),[3,5];case 5:return[3,0];case 6:return[2,e]}})})}function En(t,e){return Jn(this,void 0,void 0,function(){var r,s,h,i,c;return Yn(this,function(d){switch(d.label){case 0:return r=Gn(t),s=new TextEncoder().encode(r),[4,as(s)];case 1:return h=d.sent(),e||(e=rs(Ht.randomPrivateKey())),i=at.BASE.multiply(e),c=h.add(i),[2,{B_:c,r:e}]}})})}function fs(t,e,r){var s=t.subtract(r.multiply(e));return s}function le(t,e,r,s){return t.map(function(h,i){var c=at.fromHex(h.C_),d=at.fromHex(s[h.amount]),S=fs(c,e[i],d),x=new Yo(h.id,h.amount,Gn(r[i]),S.toHex(!0));return x})}var Bn=function(){function t(e,r){this.amount=e,this.B_=r}return t.prototype.getSerializedBlindedMessage=function(){return{amount:this.amount,B_:this.B_.toHex(!0)}},t}(),Ze=function(){return Ze=Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++){e=arguments[r];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(t[h]=e[h])}return t},Ze.apply(this,arguments)},jt=function(t,e,r,s){function h(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function d(B){try{x(s.next(B))}catch(_){c(_)}}function S(B){try{x(s.throw(B))}catch(_){c(_)}}function x(B){B.done?i(B.value):h(B.value).then(d,S)}x((s=s.apply(t,e||[])).next())})},Vt=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,h,i,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(x){return function(B){return S([x,B])}}function S(x){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,x[0]&&(r=0)),r;)try{if(s=1,h&&(i=x[0]&2?h.return:x[0]?h.throw||((i=h.return)&&i.call(h),0):h.next)&&!(i=i.call(h,x[1])).done)return i;switch(h=0,i&&(x=[x[0]&2,i.value]),x[0]){case 0:case 1:i=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,h=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!i||x[1]>i[0]&&x[1]<i[3])){r.label=x[1];break}if(x[0]===6&&r.label<i[1]){r.label=i[1],i=x;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(x);break}i[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(B){x=[6,B],h=0}finally{s=i=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Ce=function(t,e,r){if(r||arguments.length===2)for(var s=0,h=e.length,i;s<h;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))},ds=function(){function t(e,r){this.keys=e,this.mint=r}return t.prototype.checkProofsSpent=function(e){return jt(this,void 0,void 0,function(){var r,s;return Vt(this,function(h){switch(h.label){case 0:return r={proofs:e.map(function(i){return{secret:i.secret}})},[4,this.mint.check(r)];case 1:return s=h.sent().spendable,[2,e.filter(function(i,c){return!s[c]})]}})})},t.prototype.requestMint=function(e){return this.mint.requestMint(e)},t.prototype.payLnInvoice=function(e,r){var s;return jt(this,void 0,void 0,function(){var h,i,c,d,S,x;return Vt(this,function(B){switch(B.label){case 0:return h=this.createPaymentPayload(e,r),[4,this.createBlankOutputs()];case 1:return i=B.sent(),c=i.blindedMessages,d=i.secrets,S=i.rs,[4,this.mint.melt(Ze(Ze({},h),{outputs:c}))];case 2:return x=B.sent(),[2,{isPaid:(s=x.paid)!==null&&s!==void 0?s:!1,preimage:x.preimage,change:x!=null&&x.change?le(x.change,S,d,this.keys):[]}]}})})},t.prototype.getFee=function(e){return jt(this,void 0,void 0,function(){var r;return Vt(this,function(s){switch(s.label){case 0:return[4,this.mint.checkFees({pr:e})];case 1:return r=s.sent().fee,[2,r]}})})},t.getDecodedLnInvoice=function(e){return Ho(e)},t.prototype.createPaymentPayload=function(e,r){var s={pr:e,proofs:r};return s},t.prototype.payLnInvoiceWithToken=function(e,r){return this.payLnInvoice(e,$r(r))},t.prototype.receive=function(e){var r,s,h;return jt(this,void 0,void 0,function(){var i,c,d,S,x,B,_,U,D,F,O,W;return Vt(this,function(z){switch(z.label){case 0:return i=is(e).token,c=(s=(r=i[0])===null||r===void 0?void 0:r.proofs)===null||s===void 0?void 0:s.reduce(function(Z,X){return Z+X.amount},0),[4,this.createSplitPayload(0,c,(h=i[0])===null||h===void 0?void 0:h.proofs)];case 1:return d=z.sent(),S=d.payload,x=d.amount1BlindedMessages,B=d.amount2BlindedMessages,[4,this.mint.split(S)];case 2:return _=z.sent(),U=_.fst,D=_.snd,F=U?le(U,x.rs,x.secrets,this.keys):[],O=D?le(D,B.rs,B.secrets,this.keys):[],W=Ce(Ce([],F,!0),O,!0),[2,W]}})})},t.prototype.send=function(e,r){return jt(this,void 0,void 0,function(){var s,h,i,c,d,S,x,B,_,U,D,F,O,W,z;return Vt(this,function(Z){switch(Z.label){case 0:if(s=0,h=[],i=[],r.forEach(function(X){if(s>=e){i.push(X);return}s=s+X.amount,h.push(X)}),e>s)throw new Error("Not enough funds available");return e<s?(c=this.splitReceive(e,s),d=c.amount1,S=c.amount2,[4,this.createSplitPayload(d,S,h)]):[3,3];case 1:return x=Z.sent(),B=x.payload,_=x.amount1BlindedMessages,U=x.amount2BlindedMessages,[4,this.mint.split(B)];case 2:return D=Z.sent(),F=D.fst,O=D.snd,W=le(F,_.rs,_.secrets,this.keys),z=le(O,U.rs,U.secrets,this.keys),[2,{returnChange:Ce(Ce([],W,!0),i,!0),send:z}];case 3:return[2,{returnChange:i,send:h}]}})})},t.prototype.requestTokens=function(e,r){return jt(this,void 0,void 0,function(){var s,h,i,c,d,S;return Vt(this,function(x){switch(x.label){case 0:return[4,this.createRandomBlindedMessages(e)];case 1:return s=x.sent(),h=s.blindedMessages,i=s.secrets,c=s.rs,d={outputs:h},[4,this.mint.mint(d,r)];case 2:if(S=x.sent().promises,"error"in S)throw new Error(S.error);return[2,le(S,c,i,this.keys)]}})})},t.prototype.createSplitPayload=function(e,r,s){return jt(this,void 0,void 0,function(){var h,i,c,d;return Vt(this,function(S){switch(S.label){case 0:return[4,this.createRandomBlindedMessages(e)];case 1:return h=S.sent(),[4,this.createRandomBlindedMessages(r)];case 2:return i=S.sent(),c=[],c.push.apply(c,h.blindedMessages),c.push.apply(c,i.blindedMessages),d={proofs:s,amount:r,outputs:c},[2,{payload:d,amount1BlindedMessages:h,amount2BlindedMessages:i}]}})})},t.prototype.splitReceive=function(e,r){var s=r-e,h=e;return{amount1:s,amount2:h}},t.prototype.createRandomBlindedMessages=function(e){return jt(this,void 0,void 0,function(){var r,s,h,i,c,d,S,x,B,_;return Vt(this,function(U){switch(U.label){case 0:r=[],s=[],h=[],i=es(e),c=0,U.label=1;case 1:return c<i.length?(d=Ht.randomBytes(32),s.push(d),[4,En(d)]):[3,4];case 2:S=U.sent(),x=S.B_,B=S.r,h.push(B),_=new Bn(i[c],x),r.push(_.getSerializedBlindedMessage()),U.label=3;case 3:return c++,[3,1];case 4:return[2,{blindedMessages:r,secrets:s,rs:h,amounts:i}]}})})},t.prototype.createBlankOutputs=function(){return jt(this,void 0,void 0,function(){var e,r,s,h,i,c,d,S,x;return Vt(this,function(B){switch(B.label){case 0:e=[],r=[],s=[],h=0,B.label=1;case 1:return h<4?(i=Ht.randomBytes(32),r.push(i),[4,En(i)]):[3,4];case 2:c=B.sent(),d=c.B_,S=c.r,s.push(S),x=new Bn(0,d),e.push(x.getSerializedBlindedMessage()),B.label=3;case 3:return h++,[3,1];case 4:return[2,{blindedMessages:e,secrets:r,rs:s}]}})})},t}();export{hs as C,Yo as P,ds as a,cs as b,is as g};
